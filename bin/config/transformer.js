'use strict';var e=require('path'),r=require("fs"),o=require("./common"),n=o.project_dir,t=o.DEV,s=require('../fixbug'),i=require("metro/src/transformer"),u=i.transform,a={getCacheKey:i.getCacheKey},c=new Map;function m(e){e&&'string'!=typeof e&&(e.modules||[]).forEach(function(e){c.set(e[1],e[0])})}var l={"modules":[["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('./native'),t=babelHelpers.interopRequireDefault(e),i=(function(){function i(){babelHelpers.classCallCheck(this,i)}return babelHelpers.createClass(i,[{key:'load',value:function(){var i=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.Properties.of(this);return!r&&n.isLoaded?Promise.resolve(this):new Promise(function(r,o){t.default.MIOTService.loadAccountInfo(n.id,function(t,s){t?(s.nickName&&''!=s.nickName||(s.nickName=n.nickName||\"\"),e.Properties.init(i,babelHelpers.extends({},s,{isLoaded:!0,id:n.id})),r(i)):o({ok:!1,message:\"\"})})})}},{key:'isLoaded',get:function(){return e.Properties.of(this).isLoaded}},{key:'ID',get:function(){return e.Properties.of(this).id}},{key:'nickName',get:function(){return e.Properties.of(this).nickName}},{key:'avatarURL',get:function(){return e.Properties.of(this).avatarURL}},{key:'birth',get:function(){return e.Properties.of(this).birth}},{key:'email',get:function(){return e.Properties.of(this).email}},{key:'phone',get:function(){return e.Properties.of(this).phone}},{key:'sex',get:function(){return e.Properties.of(this).sex}},{key:'shareTime',get:function(){return e.Properties.of(this).shareTime}}]),i})();exports.default=i;","miot-sdk/Account.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.buildEvents=exports.createEventManager=exports.MIOTEventEmitter=exports.PackageExitAction=exports.NativeTimer=exports.ClearTimeout=exports.SetTimeout=exports.Properties=exports.isIOS=exports.isAndroid=exports.NativeType=exports.RELEASE=exports.DEBUG=exports.ANDROID=exports.IOS=exports.Utils=void 0,exports.createI18n=function(e,t){return new l.default(e,t)};var e=require('react-native'),t=require('./android'),r=babelHelpers.interopRequireDefault(t),i=require('./ios'),n=babelHelpers.interopRequireDefault(i),o=require('./utils'),a=babelHelpers.interopRequireDefault(o),u=require('./events'),s=babelHelpers.interopRequireDefault(u),c=require('./common/i18n'),l=babelHelpers.interopRequireDefault(c),f=require('./common/node/resolve'),p=babelHelpers.interopRequireDefault(f),v=exports.Utils=a.default;var d=exports.IOS=\"ios\",m=exports.ANDROID=\"android\",x=(exports.DEBUG=\"debug\",exports.RELEASE=\"release\",exports.NativeType='android'===e.Platform.OS.toLowerCase()?m:d),E=exports.isAndroid=x===m,g=exports.isIOS=x===d,b=E?r.default:n.default;(0,p.default)(b.MIOTPackage.basePath,b.MIOTPackage.localFilePath);var T=new WeakMap;exports.Properties={init:function(e,t){return T.set(e,t||{}),e},of:function(e){return T.get(e)||{}}};var O=b.MIOTRPC;O.standardCall=function(e,t,r){O.nativeCall(e,t,function(e,t){e&&t.result?r(e,t.result):r(!1,t)})};var D=exports.SetTimeout=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,t)},I=exports.ClearTimeout=function(e){return e&&clearTimeout(e)},h={current:0,funcs:[],timer:0},P=(exports.NativeTimer={addListener:function(e,t){if(!t||t<1||!e)return{remove:function(){},get isValid(){return!1}};var r=h.funcs;if(!h.timer){h.timer=setTimeout(function e(){if(h.timer){var t=(new Date).getTime();r.forEach(function(e,i){e&&e.expire>=t&&(\"continue\"==e.func()?e.expire=t+e.timeout:r[i]=0)}),h.timer=setTimeout(e,4999)}},4999)}t*=1e3;var i=r.push({func:e,timeout:t,expire:t+(new Date).getTime()})-1;return{get isValid(){return r[i]?1:0},remove:function(){r[i]=0}}}},{funcs:[]}),M=exports.PackageExitAction={register:function(e,t){if(!P.funcs.includes(e))return P.funcs.push(e),t&&t(b.LocalCache),!0},unregister:function(e){P.funcs.forEach(function(t,r){t==e&&(P.funcs[r]=0)})},execute:function(){var e=h.timer;h.timer=0,e&&clearTimeout(e),h.funcs=[],h.current=0,P.funcs.forEach(function(e,t){if(e)try{e(b.LocalCache),P.funcs[t]=0}catch(e){console.log(e)}}),b.LocalCache.clear(),P.funcs=[]}},C=b.MIOTPackage.eventRandom||\"\",R=exports.MIOTEventEmitter={addListener:function(t,r){return e.DeviceEventEmitter.addListener(t+C,r)},emit:function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];e.DeviceEventEmitter.emit.apply(e.DeviceEventEmitter,[t+C].concat(babelHelpers.toConsumableArray(i)))}};b.LocalCache.globalEventProfiles={};var q=(0,s.default)(b.LocalCache.globalEventProfiles,R),L=exports.createEventManager=q.createEventManager;exports.buildEvents=function(e){var t=L(e);Object.keys(t).forEach(function(r){v.setReadonly(e,r,t[r])})};M.register(function(e){e.globalEventProfiles={}}),exports.default=babelHelpers.extends({},b,{MIOTRPC:O,MIOTEventEmitter:R,type:x,isAndroid:E,isIOS:g,language:v.getStandardLanguageName(b.MIOTHost.language,b.LanguageNameMap),SetTimeout:D,ClearTimeout:I});","miot-sdk/native/index.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"react-native\"),a={currentDevice:{},bluetoothDevices:new Map,clear:function(e){a.currentDevice={},a.bluetoothDevices=new Map}},t=e.NativeModules.MIOTPackage,i=e.NativeModules.MIOTDevice,o=e.NativeModules.MIOTService,M=e.NativeModules.MIOTHost,l=e.NativeModules.MHMapSearch,r=e.NativeModules.MIOTFile,u=e.NativeModules.MIOTBluetooth,c=e.NativeModules.MIOTAudio,s=e.NativeModules.MIOTXimalaya;exports.default={MIOTPackage:t,MIOTDevice:i,MIOTService:o,MIOTRPC:{nativeCall:function(e,a,t){o.callSmartHomeAPI(e,\"string\"==typeof a?a:JSON.stringify(a),function(e,a,i){if(e)try{a=JSON.parse(a),t(e,a)}catch(a){t(e,{})}else t(e,{code:a,msg:i})})}},MIOTHost:M,MHMapSearch:l,MIOTFile:r,MIOTBluetooth:u,MIOTXimalaya:s,MIOTAudio:c,LocalCache:a,LanguageNameMap:{zh:[\"zh\",\"zh_CN\"],zh_tw:\"zh_TW\",zh_hk:\"zh_HK\",zh_bo:/bo($|_)/,en:/^en($|_)/,es:/^es($|_)/,ko:/^ko($|_)/,ru:/^ru($|_)/,it:/^it($|_)/,fr:/^fr($|_)/,de:/^de($|_)/,id:/^id($|_)/,pl:/^pl($|_)/,vi:/^vi($|_)/,ja:/^ja($|_)/,th:/^th($|_)/,pt:/^pt($|_)/,nl:/^nl($|_)/,ar:/^ar($|_)/}};","miot-sdk/native/android/index.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('react-native'),a=babelHelpers.interopRequireDefault(e),t=a.default.NativeModules,o=a.default.Platform,i=t.MIOTPackage,n=t.MIOTDevice,r=t.MIOTService,u=t.MHMapSearch,M=t.MHPluginSDK,c=t.MHPluginFS,l=t.MIOTBluetooth,h=t.MHAudio,_=t.Ximalaya,p=t.MHMapLocation,H={currentDevice:{},bluetoothDevices:new Map,clear:function(e){H.currentDevice={},H.bluetoothDevices=new Map}};'ios'===o.OS.toLowerCase()&&(M.openShopPage=function(e){return new Promise(function(a,o){t.MHMiotStore.openURL(e,function(e){if(e)return o(e);a(e)})})});exports.default={MIOTPackage:i,MIOTDevice:n,MIOTService:r,MIOTRPC:{nativeCall:function(e,a,t){r.callSmartHomeAPI(e,a,function(e,a){t(e,a||{})})}},MIOTHost:M,MHMapSearch:u,MIOTFile:c,LocalCache:H,MIOTBluetooth:l,MIOTAudio:h,MIOTXimalaya:_,MHMapLocation:p,LanguageNameMap:{zh:[\"zh_CN\",\"zh-CN\",\"zh-Hans\"],zh_tw:[\"zh_TW\",\"zh-TW\",\"zh-Hant\"],zh_hk:[\"zh_HK\",\"zh-HK\",\"zh-Hant-HK\"],zh_bo:/bo($|_)/,en:/^en($|_)/,es:/^es($|_)/,ko:/^ko($|_)/,ru:/^ru($|_)/,it:/^it($|_)/,fr:/^fr($|_)/,de:/^de($|_)/,id:/^id($|_)/,pl:/^pl($|_)/,vi:/^vi($|_)/,ja:/^ja($|_)/,th:/^th($|_)/,pt:/^pt($|_)/,nl:/^nl($|_)/,ar:/^ar($|_)/}};","miot-sdk/native/ios/index.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.REGEXP_EMAIL=exports.base64=exports.uuid=void 0,exports.randomInt=o,exports.swap=a,exports.uniqueToken32=p,exports.rgbToHex=g,exports.hexToRgb=h,exports.format=d,exports.typeName=b,exports.className=y,exports.getUrlParameters=v,exports.setReadonly=x,exports.setObjectReadonly=m,exports.setObjectAsConstants=A,exports.formats=E,exports.getStandardLanguageName=O;var t=require('uuid'),e=babelHelpers.interopRequireDefault(t),r=require('base64-js'),n=babelHelpers.interopRequireDefault(r);exports.uuid=e.default,exports.base64=n.default;function o(t,e){return Math.floor(Math.random()*(e-t)+t)}function a(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}var u,i,s,f,c,l={t:0,i:0,min:5611212902196,r:3,rand:function(t){for(var e=t.length-1,r=0,n=Math.floor(e/3),o=2*n;r<n;r++)a(t,n+r,o+r),a(t,r,o-r);for(var u=0,i=Math.ceil(e/2);u<i;u++)a(t,u,e-u);return t},exchange:(u=\"0123456789\",i=\"oczunqsgrtfldhapyejbimvkwx\",s=Math.floor(i.length/u.length),f=i.length%u.length,c={},u.split(\"\").forEach(function(t,e){c[t]=e<f?i.substr(e*s+e,s+1):i.substr(e*s+f,s)}),function(t){return t.split(\"\").map(function(t){return c[t].charAt(o(0,c[t].length))}).join(\"\")})};function p(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=(new Date).getTime();e!=l.t&&(l.ts=l.rand((e+l.min+\"\").split(\"\")),l.t=e,l.i=o(1e7,99999999),l.r=l.i%10,a(l.ts,l.r,l.ts.length-1-l.r));var r=++l.i%1e8+\"\"+l.r+o(1e7,99999999),n=Math.floor((r.length-l.ts.length)/2),u=l.ts.map(function(t,e){return e%2?t+r.charAt(n+e):r.charAt(n+e)+t}).join(\"\");for(u=r.substr(0,n)+u+r.substr(n+l.ts.length),u=l.rand(u.split(\"\")).join(\"\");u.length<32;)u=o(0,10)+u;return t?(t=\"function\"==typeof t?t:l.exchange)(u):u}function g(t,e,r){return((t<<16)+(e<<8)+r).toString(16).padStart(6,'0')}function h(t){return'rgb('+t.slice(1).match(/.{2}/g).map(function(t){return parseInt(t,16)}).join()+')'}function d(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(!t)return\"\";var o=r.length;return o<1?t:t.replace(/[{][1-9][0-9]?[}]/g,function(t){var e=parseInt(t.substring(1,t.length-1));return e<1||e>o?t:r[e-1]})}function b(t){var e=Object.prototype.toString.call(t);return e.substr(8,e.length-9).toLowerCase()}function y(t){return void 0===t?'undefined':null===t?'null':t.constructor.name.toLowerCase()}function v(t){return t.match(/([^?=&]+)(=([^&]*))/g).reduce(function(t,e){return t[e.slice(0,e.indexOf('='))]=e.slice(e.indexOf('=')+1),t},{})}function x(t,e,r){return Object.defineProperty(t,e,{enumerable:!0,configurable:!1,get:function(){return r},set:function(){}})}function m(t){if(!t)return t;for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return(r&&r.length>0?r:Object.keys(t)).forEach(function(e){x(t,e,t[e])}),t}function A(t){return t?(Object.keys(t).forEach(function(e){x(t,e,t[e]||e)}),t):{}}function j(t){if(t.length<1)return function(t){return\"\"};var e=t[0];return\"function\"==typeof e?e:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length>0)for(var o=1;o<t.length;o++){var a=t[o];if(Array.isArray(a)&&!(a.length<2)){var u=a[0];if(\"function\"==typeof u){if(!u.apply(void 0,r))continue}else if(r[0]!=u)continue;return d.apply(void 0,[a[1]].concat(r))}}return d.apply(void 0,[t[0]].concat(r))}}function E(t){return Object.keys(t).forEach(function(e){var r=t[e];Array.isArray(r)?x(t,e,j(r)):r&&\"object\"===b(r)&&E(r)}),t}function O(t,e){if(!t)return'zh';var r=function(t){return t.toLowerCase().replace(/-/g,'_')};t=r(t);for(var n=Object.keys(e),o=0;o<n.length;o++){var a=n[o],u=e[a];if(u)if(Array.isArray(u)){for(var i=0;i<u.length;i++)if('function'==typeof u[i].test){if(u[i].test(t))return a}else if(t==r(u[i]))return a}else if('function'==typeof u){if(u(t))return a}else if('function'==typeof u.test){if(u.test(t))return a}else if(t==r(u))return a}return'zh'}var R=exports.REGEXP_EMAIL=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;exports.default={swap:a,randomInt:o,uniqueToken32:p,format:d,formats:E,createArrayFormater:j,typeName:b,className:y,setReadonly:x,setObjectReadonly:m,setObjectAsConstants:A,hexToRgb:h,rgbToHex:g,getUrlParameters:v,getStandardLanguageName:O,REGEXP_EMAIL:R};","miot-sdk/native/utils.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"./utils\");babelHelpers.interopRequireDefault(e);exports.default=function(e,n){var t=function(n,t){var r=e[n]||{actions:new Set};return r.close?r.close():e[n]=r,r.emitter={get eventType(){return n},emit:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];r.actions.forEach(function(e){return e.apply(void 0,n)})},isEmpty:function(){return r.actions.size<1},clear:function(){r.actions.clear()},onAddListener:function(e){return e},onRemoveListener:function(e){}},r.close=t(r.emitter),r.addListener=function(e){return e=r.emitter.onAddListener(e),r.actions.add(e),{remove:function(){r.actions.delete(e),r.emitter.onRemoveListener(e)}}},r.toString=function(){return n},{get name(){return n},close:r.close,clear:r.emitter.clear,addListener:r.addListener,emit:r.emitter.emit,toString:r.toString}};return{createEventProfile:t,createEventManager:function(e){var r={};return Object.keys(e).forEach(function(i){var o=e[i];if(\"function\"!=typeof o){var u=o.sameas||i,s=function(e){var n=t(u,e);r[u]=n,o.sameas&&(r[i]=n)};if(!o.local)return o.forever?(\"function\"!=typeof o.forever&&(o.forever=function(e){return function(){return e.emit.apply(e,arguments)}}),void s(function(e){var t={subscription:n.addListener(u,o.forever(e))};return function(){t.subscription&&(t.subscription.remove(),t.subscription=null,e.onClose&&e.onClose())}})):o.always?(\"function\"!=typeof o.always&&(o.always=function(e){return function(){return e.emit.apply(e,arguments)}}),void s(function(e){var t={},r=function(){t.subscription&&(t.subscription.remove(),t.subscription=null,e.onClose&&e.onClose())};return e.onAddListener=function(r){return t.subscription||(t.subscription=n.addListener(i,o.always(e))),r},e.onRemoveListener=function(n){e.isEmpty()&&r()},r})):void 0;s(function(e){return function(){}})}else r[i]=t(i,o)}),r}}};","miot-sdk/native/events.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var r=require('../utils'),t=babelHelpers.interopRequireDefault(r),e=(function(){function r(e,n){var a=this;babelHelpers.classCallCheck(this,r),this._proxy={};var i=Object.keys(e);if(!i||i.length<1)throw\"strings is empty\";this._langs=i,this._temp_lang=!1,this._valid_lang=function(r){return!(!r||!e[r])&&r},this._default_lang=this._valid_lang(n)||i[0];var l=function(){return a._temp_lang||a._default_lang};this._cur_lang=l,(function r(e,n){var a={};i.forEach(function(s){var f=n[s];Object.keys(f).forEach(function(o){var u={origin:f[o]};u.isArr=Array.isArray(u.origin);var g=typeof u.origin;u.isObj='object'===g&&!u.isArr,'string'!==g&&'function'!==g||(u.origin=[u.origin],u.isArr=!0);var c=a[o];if(c)u.isObj&&(c.isObj=!0),c.langstr[s]=u;else{var p={isObj:u.isObj,langstr:babelHelpers.defineProperty({},s,u)};a[o]=p,Object.defineProperty(e,o,{enumerable:!0,configurable:!1,get:function(){if(!p.pxy)if(p.isObj){p.pxy={};var e={};i.forEach(function(r){p.langstr[r].isObj?e[r]=(n[r]||{})[o]:e[r]={}}),r(p.pxy,e)}else p.pxy=function(r){var e=p.langstr[r];return e||(i.forEach(function(r){var t=p.langstr[r];t&&t.origin&&(!e||!e.formater&&t.formater)&&(e=t)}),p.langstr[r]=e),e.formater||(function r(e){e.isArr?e.formater=t.default.createArrayFormater(e.origin):e.formater=function(r){return e.origin},e.formater.valueOf=e.formater,e.formater.inspect=e.formater,e.formater.toString=e.formater,e.formater.translate=function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];if('string'!=typeof t)return e.formater();var l=p.langstr[t];return l&&e!==l?(l.formater||r(l),l.formater.apply(l,a)):e.formater.apply(e,a)}})(e),e.formater};return p.isObj?p.pxy:p.pxy(l())}})}})})})(this._proxy,e)}return babelHelpers.createClass(r,[{key:'getString',value:function(r){if(!r)return null;if(\"\"!=(r=r.replace(/\\\\s/g,''))){for(var t=r.split('.'),e=this._proxy,n=1;n<t.length;n++){var a=t[n-1];if(\"\"==a)return null;if(!(e=e[a]))return null}if(\"\"==(r=t[t.length-1]))return null;switch(typeof(e=e[r])){case'string':return e;case'function':for(var i=arguments.length,l=Array(i>1?i-1:0),s=1;s<i;s++)l[s-1]=arguments[s];return e.apply(void 0,l);default:return null}}}},{key:'language',get:function(){return this._cur_lang()},set:function(r){this._temp_lang=this._valid_lang(r)}},{key:'defaultLanguage',get:function(){return this._default_lang},set:function(r){this._default_lang=this._valid_lang(r)||this._default_lang}},{key:'strings',get:function(){return this._proxy}}]),r})();exports.default=e;","miot-sdk/native/common/i18n.js"],["'use strict';var e=require(\"react-native/Libraries/Image/resolveAssetSource\");function t(e){return e.endsWith(\"/\")||(e+=\"/\"),e.startsWith(\"/\")&&(e=\"file://\"+e),e}module.exports=function(r,s){r&&\"\"!=r&&(r=t(r),s=t(s),e.setCustomSourceTransformer(function(e){return e.asset._miot_base_bundle&&(e.jsbundleUrl=r),e.defaultAsset()},function(e){'object'==typeof e&&'string'==typeof e.local&&e.local.length>0&&(e.uri=s+e.local)}))};","miot-sdk/native/common/node/resolve.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.BluetoothEvent=exports.IBluetoothClassic=exports.IBluetoothLE=exports.IBluetooth=exports.IBluetoothLock=exports.IBluetoothService=exports.IBluetoothCharacteristic=exports.getBluetoothUUID128=void 0;var e=require('./Device'),t=babelHelpers.interopRequireDefault(e),r=require('./Host'),o=babelHelpers.interopRequireDefault(r),i=require('./native'),n=babelHelpers.interopRequireDefault(i),u=exports.getBluetoothUUID128=function(e){if(!e||''==e)return null;if((e=e.toUpperCase()).length>8)return e;switch(e.length){case 2:e=\"000000\"+e;break;case 4:e=\"0000\"+e;break;case 6:e=\"00\"+e;break;case 8:break;default:return null}return e+\"\\u20140000\\u20141000\\u20148000\\u201400805F9B34FB\"},s=exports.IBluetoothCharacteristic=(function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:'read',value:function(){var e=this;return new Promise(function(t,r){var o=i.Properties.of(e),u=o.serviceUUID,s=o.characteristicUUID;n.default.MIOTBluetooth.readHexStringWithCallback(s,u,function(e,i){if(e)return o.value=i,o.isValueLoaded=!0,void t(o);r(i)})})}},{key:'write',value:function(e){var t=this;return new Promise(function(r,o){var u=i.Properties.of(t),s=u.serviceUUID,c=u.characteristicUUID;n.default.MIOTBluetooth.writeHexStringWithCallback(e,c,s,0,function(i,n){if(i)return u.value=e,u.isValueLoaded=!0,void r(t);o(n)})})}},{key:'writeWithoutResponse',value:function(e){var t=this;return new Promise(function(r,o){var u=i.Properties.of(t),s=u.serviceUUID,c=u.characteristicUUID;n.default.MIOTBluetooth.writeHexStringWithCallback(e,c,s,1,function(i,n){if(i)return u.value=e,u.isValueLoaded=!0,void r(t);o(n)})})}},{key:'setNotify',value:function(e){var t=this;return new Promise(function(r,o){var u=i.Properties.of(t),s=u.serviceUUID,c=u.characteristicUUID;n.default.MIOTBluetooth.setNotifyWithCallback(e,c,s,function(e,i){e?r(t):o(i)})})}},{key:'isDiscovered',get:function(){return i.Properties.of(this).isDiscovered}},{key:'isValueLoaded',get:function(){return i.Properties.of(this).isValueLoaded}},{key:'UUID',get:function(){return i.Properties.of(this).characteristicUUID}},{key:'value',get:function(){return i.Properties.of(this).value}}]),e})(),c=exports.IBluetoothService=(function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:'startDiscoverCharacteristics',value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length<1||!this.isDiscovered)return!1;var o=t;if(o.length>0){var u=i.Properties.of(this).serviceUUID;n.default.MIOTBluetooth.discoverCharacteristics(o,u)}return!0}},{key:'getCharacteristic',value:function(e){var t=u(e);if(!t)return null;var r=i.Properties.of(this),o=r.characteristics,n=r.mac,c=r.serviceUUID,a=r.deviceUUID,l=o.get(t);return l||(l=new s,i.Properties.init(l,{mac:n,deviceUUID:a,serviceUUID:c,characteristicUUID:e,fullUUID:t}),o.set(t,l)),l}},{key:'UUID',get:function(){return i.Properties.of(this).serviceUUID}},{key:'isDiscovered',get:function(){return i.Properties.of(this).isDiscovered}}]),e})(),a=exports.IBluetoothLock=(function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:'toggle',value:function(e,t){var r=this;return new Promise(function(o,i){n.default.MIOTBluetooth.toggleLockXiaoMiBLE(e,t,function(e,t){e?o(r):i(t)})})}},{key:'isShareKeyValid',value:function(){var e=this;return new Promise(function(t,r){n.default.MIOTBluetooth.isShareSecureKeyValid(function(o,i){o?t(e):r(i)})})}},{key:'getOneTimePassword',value:function(e,t){return new Promise(function(r,o){n.default.MIOTBluetooth.oneTimePassword(e,t,function(e,t){e?r(t):o(t)})})}},{key:'encryptMessage',value:function(e){return new Promise(function(t,r){n.default.MIOTBluetooth.encryptMessageXiaoMiBLE(e,function(e,o){e?t(o):r(o)})})}},{key:'decryptMessage',value:function(e){return new Promise(function(t,r){n.default.MIOTBluetooth.decryptMessageXiaoMiBLE(e,function(e,o){e?t(o):r(o)})})}}]),e})(),l=exports.IBluetooth=(function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:'connect',value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=i.Properties.of(this);return this.isConnected?Promise.resolve(this):o._connecting?Promise.reject({code:100,msg:\"the bluetooth is connecting now, please waiting for a moment\"}):(o._connecting=!0,new Promise(function(u,s){var c=function(e,r){if(o._connecting=!1,e){o.isConnected=!0;var c=r.services;(c||[]).forEach(function(e){var r=t.getService(e.uuid);r&&(i.Properties.of(r).isDiscovered=!0,(e.chars||[]).forEach(function(e){var t=r.getCharacteristic(e);t&&(i.Properties.of(t).isDiscovered=!0)}))}),u(r),n.default.MIOTEventEmitter.emit('bluetoothSeviceDiscovered',{mac:t.mac,foundUUIDs:(c||[]).map(function(e){return e.uuid})}),(c||[]).forEach(function(e){n.default.MIOTEventEmitter.emit('bluetoothCharacteristicDiscovered',{mac:t.mac,serviceUUID:e.uuid,foundUUIDs:e.chars||[]})})}else s(r)};n.default.isIOS&&3===e&&r?n.default.MIOTBluetooth.connect(r,e,c):n.default.MIOTBluetooth.connect(t.mac,e,c)}))}},{key:'readRSSI',value:function(){return new Promise(function(e,t){n.default.MIOTBluetooth.readRSSI(function(r,o){r?e(o):t(o)})})}},{key:'disconnect',value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n.default.MIOTBluetooth.disconnectDeviceWithDelay(e)}},{key:'maximumWriteValueLength',value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t,r){n.default.isIOS?n.default.MIOTBluetooth.maximumWriteValueLengthForType(e,function(e,o){e?t(o):r(o)}):(console.log(\"has no real methord,return default value 20 bytes.\"),t(160))})}},{key:'getService',value:function(e){var t=u(e);if(!t)return null;var r=i.Properties.of(this),o=r.services,n=r.mac,s=r.UUID,a=o.get(t);return a||(a=new c,i.Properties.init(a,{mac:n,deviceUUID:s,serviceUUID:e,fullUUID:t,characteristics:new Map}),o.set(t,a)),a}},{key:'startDiscoverServices',value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length<1||!this.isConnected)return!1;var o=t;return o.length>0&&n.default.MIOTBluetooth.discoverServices(o),!0}},{key:'getVersion',value:function(e){return new Promise(function(t,r){n.default.MIOTBluetooth.getVersion(e,function(e,o){e?t(o):r(o)})})}},{key:'isBLE',get:function(){return!i.Properties.of(this).isClassic}},{key:'mac',get:function(){return i.Properties.of(this).mac}},{key:'UUID',get:function(){return i.Properties.of(this).UUID}},{key:'isConnected',get:function(){return i.Properties.of(this).isConnected}},{key:'securityLock',get:function(){return i.Properties.of(this).securityChip}}]),e})(),f=(exports.IBluetoothLE=(function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:'getService',value:function(e){return null}},{key:'startDiscoverServices',value:function(){return!1}},{key:'getVersion',value:function(e){return!1}},{key:'securityLock',get:function(){return null}}]),t})(l),exports.IBluetoothClassic=(function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),t})(l),n.default.LocalCache.bluetoothDevices),h=exports.BluetoothEvent={bluetoothConnectionStatusChanged:{forever:function(e){return function(t){var r=t.mac,n=t.isConnected;o.default.isDebug&&console.log(\"Bluetooth\",\"bluetoothConnectionStatusChanged\",r);var u=f.get(r);if(u){var s=i.Properties.of(u);s.isConnected=n,n||s.services.forEach(function(e){var t=i.Properties.of(e);t.isDiscovered=!1,t.characteristics.forEach(function(e){i.Properties.of(e).isDiscovered=!1})}),e.emit(u,n)}}}},bluetoothDeviceDiscovered:{forever:function(e){return function(t){o.default.isDebug&&console.log(\"Bluetooth\",\"bluetoothDeviceDiscovered\",t),e.emit(t)}}},bluetoothDeviceDiscoverFailed:{always:function(e){return function(t){var r=t.error;o.default.isDebug&&console.log(\"Bluetooth\",\"bluetoothDeviceDiscoverFailed\",r),e.emit(r)}}},bluetoothSeviceDiscovered:{forever:function(e){return function(t){var r=t.mac,n=t.foundUUIDs;o.default.isDebug&&console.log(\"Bluetooth\",\"bluetoothSeviceDiscovered\",r);var u=f.get(r);if(u){var s=(n||[]).map(function(e){var t=u.getService(e);return i.Properties.of(t).isDiscovered=!0,t});e.emit(u,s)}}}},bluetoothSeviceDiscoverFailed:{always:function(e){return function(t){var r=t.mac,i=t.error;o.default.isDebug&&console.log(\"Bluetooth\",\"bluetoothSeviceDiscoverFailed\",r),f.get(r)&&e.emit(bluetooh,i)}}},bluetoothCharacteristicDiscovered:{forever:function(e){return function(t){var r=t.mac,n=t.serviceUUID,u=t.foundUUIDs;o.default.isDebug&&console.log(\"Bluetooth\",\"bluetoothCharacteristicDiscovered\",r);var s=f.get(r);if(s){var c=s.getService(n);if(c.isDiscovered){var a=(u||[]).map(function(e){var t=c.getCharacteristic(e);return i.Properties.of(t).isDiscovered=!0,t});e.emit(s,c,a)}}}}},bluetoothCharacteristicDiscoverFailed:{always:function(e){return function(t){var r=t.mac,i=t.serviceUUID,n=t.error;o.default.isDebug&&console.log(\"Bluetooth\",\"bluetoothCharacteristicDiscoverFailed\",r);var u=f.get(r);if(u){var s=u.getService(i);s.isDiscovered&&e.emit(bluetooh,s,n)}}}},bluetoothCharacteristicValueChanged:{forever:function(e){return function(t){var r=t.mac,n=t.serviceUUID,u=t.characteristicUUID,s=t.value;o.default.isDebug&&console.log(\"Bluetooth\",\"bluetoothCharacteristicValueChanged\",r);var c=f.get(r);if(c){var a=c.getService(n);if(a.isDiscovered){var l=a.getCharacteristic(u);if(l.isDiscovered){var h=i.Properties.of(l);h.isValueLoaded=!0,h.value=s,e.emit(c,a,l,s)}}}}}},bluetoothStatusChanged:{forever:function(e){return function(t){var r=t.isEnabled;o.default.isDebug&&console.log(\"Bluetooth\",\"bluetoothStatusChanged\",r),e.emit(r)}}}};function v(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){if(e!=t.default.mac)throw new Error(\"the bluetooth of sub device is not supported now\")}else e=t.default.mac;var o=f.get(e);if(o)i.Properties.of(o).isClassic=r;else{var n=new a;i.Properties.init(n,{mac:e}),o=i.Properties.init(new l,{mac:e,services:new Map,securityChip:n,isClassic:r}),f.set(e,o)}return o}(0,i.buildEvents)(h),exports.default={createBluetooth:function(e){return v(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},createBluetoothLE:function(e){return v(e,!1)},createBluetoothClassic:function(e){return v(e,!0)},checkBluetoothIsEnabled:function(){return n.default.isAndroid?new Promise(function(e,t){n.default.MIOTBluetooth.isBluetoothOpen(function(t){e(t)})}):new Promise(function(e,t){n.default.MIOTBluetooth.getBluetoothStateCallback(function(t){e(5==t)})})},startScan:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n.default.MIOTBluetooth.startLeScan(e,r)},stopScan:function(){n.default.MIOTBluetooth.stopScan()},retrievePeripheralsForIOS:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Promise(function(e,r){n.default.isIOS?n.default.MIOTBluetooth.retrievePeripheralsWithIdentifiers(t,function(t){e(t)}):r(!1)})},retrievePeripheralsWithServicesForIOS:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Promise(function(e,r){n.default.isIOS?n.default.MIOTBluetooth.retrievePeripheralsWithServices(t,function(t){e(t)}):r(!1)})},enableBluetoothForAndroid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.default.isAndroid&&n.default.MIOTBluetooth.openBluetooth(e)},isBleGatewayConnected:function(){return new Promise(function(e,t){n.default.MIOTBluetooth.isBleGatewayConnected(function(t){e(t)})})},bindDeviceforMIUI:function(){n.default.isAndroid&&n.default.MIOTBluetooth.bindDevice()},unBindDeviceforMIUI:function(){n.default.isAndroid&&n.default.MIOTBluetooth.unBindDevice()},setAlertConfigsOnMIUI:function(e,t){if(n.default.isAndroid)return new Promise(function(r,o){n.default.MIOTBluetooth.setAlertConfigs(e,t,function(e){return r(e)})});Promise.reject(\"not MIUI\")}};","miot-sdk/Bluetooth.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.IDeviceWifi=exports.DeviceEvent=void 0;var e=require('./Account'),t=babelHelpers.interopRequireDefault(e),i=require('./service/scene'),r=babelHelpers.interopRequireDefault(i),n=require('./native'),o=babelHelpers.interopRequireDefault(n),s=require('./Bluetooth'),u=babelHelpers.interopRequireDefault(s),c=require('./Host'),a=babelHelpers.interopRequireDefault(c);function f(e){var t=v,i=n.Properties.of(t);if(i.did!=e){if(!(t=(i._subDevices||[]).find(function(t){return e==t.deviceID})))return{};i=n.Properties.of(t)}return{device:t,props:i}}var l=exports.DeviceEvent={deviceNameChanged:{forever:function(e){return function(t){var i=t.did,r=t.newName;console.log(\"\\u4fee\\u6539\\u540e\\u7684\\u8bbe\\u5907\\u540d\\u79f0\\uff1a\",r);var n=f(i),o=n.device,s=n.props;o&&(s.name=r,e.emit(o))}}},deviceStatusChanged:{forever:function(e){return function(t,i,r){if(r.rootDeviceIsReady&&t)n.Properties.of(v).did=t;else{var o=f(t),s=o.device;o.props;s&&e.emit(s)}}}},deviceReceivedMessages:{forever:function(e){return function(t){var i=t.did,r=t.data,n=t.subcribeId;if(a.default.isDebug&&console.log('deviceReceivedMessages',i,r,n,o.default.LocalCache.deviceUsingSubscribers),n){var s=o.default.LocalCache.deviceUsingSubscribers;if(s&&!s.has(n))return}var u=f(i),c=u.device;u.props;if(c){\"string\"==typeof r&&(r=JSON.parse(r));var l=new Map;r.forEach(function(e){return l.set(e.key,e.value)}),e.emit(c,l,r)}}},sameas:\"deviceRecievedMessages\"}};(0,n.buildEvents)(l);var d=exports.IDeviceWifi=(function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:'loadProperties',value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.length<1?Promise.reject():this.callMethod(\"get_prop\",t).then(function(e){var i=new Map;return e.result&&t.forEach(function(t,r){return i.set(t,e.result[r])}),i})}},{key:'loadPropertiesFromCloud',value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.length<1?Promise.reject():this.callMethodFromCloud(\"get_prop\",t).then(function(e){var i=new Map;return e.result&&t.forEach(function(t,r){return i.set(t,e.result[r])}),i})}},{key:'callMethod',value:function(e,t){var i=this;return new Promise(function(r,n){o.default.MIOTDevice.callMethod(i.deviceID,e,o.default.isAndroid?\"string\"==typeof t?t:JSON.stringify(t):t,function(e,t){e?r(t):n(t)})})}},{key:'callMethodFromCloud',value:function(e,t){var i=this;return new Promise(function(r,n){o.default.isAndroid?o.default.MIOTDevice.callMethodFromCloud(i.deviceID,e,\"string\"==typeof t?t:JSON.stringify(t),function(e,t){e?r(t):n(t)}):o.default.MIOTDevice.callMethodForceWay(e,t,2,function(e,t){e?r(t):n(t)})})}},{key:'localPing',value:function(){var e=this;return new Promise(function(t,i){var r=function(e){e?t(e):i()};o.default.isAndroid?o.default.MIOTDevice.localPingWithCallback(e.deviceID,r):o.default.MIOTHost.localPingWithCallback(r)})}},{key:'subscribeMessages',value:function(){for(var e=this,t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];if(i.length<1)return Promise.reject(\"arguments is empty\");var s=n.Properties.of(this)._msgset;return s?(i.forEach(function(e){return s.add(e)}),new Promise(function(t,r){o.default.MIOTDevice.subscribeMessages(e.deviceID,i,function(s,u){if(s){var c=o.default.MIOTDevice.unsubscribeMessages,a=function(t){if(t.deviceMessages){var r=t.deviceMessages.get(u);t.deviceMessages.delete(u),r&&(t.deviceUsingSubscribers.delete(r.lastId),c&&c(e.deviceID,i,r.lastId,function(e){}),r.timer.remove())}};c&&n.PackageExitAction.register(a,function(t){t.deviceMessages||(t.deviceMessages=new Map,t.deviceUsingSubscribers=new Set),t.deviceUsingSubscribers.add(u);var r={lastId:u};r.timer=n.NativeTimer.addListener(function(){if(t.deviceMessages.has(u))return o.default.MIOTDevice.subscribeMessages(e.deviceID,i,function(e,i){e&&i&&(t.deviceUsingSubscribers.add(i),t.deviceUsingSubscribers.delete(r.lastId),r.lastId=i)}),\"continue\"},170),t.deviceMessages.set(u,r)}),t({remove:function(){c&&a(o.default.LocalCache)}})}!s&&r()})})):Promise.reject(\"cann't subscribe any messages\")}},{key:'checkVersion',value:function(){var e=this;return new Promise(function(t,i){var r=n.Properties.of(e),s=r.did,u=r.pid;o.default.MIOTRPC.standardCall(\"/home/checkversion\",{did:s,pid:u},function(e,r){if(!e)return i(r);var n=r.updating,o=r.isLatest,s=r.description,u=r.force,c=r.curr,a=r.latest;t({isUpdating:n,isLatest:o,isForce:u,description:s,curVersion:c,newVersion:a,hasNewFirmware:!n&&!o})})})}},{key:'startUpgradingFirmware',value:function(){var e=this;return new Promise(function(t,i){var r=n.Properties.of(e),s=r.did,u=r.pid;o.default.MIOTRPC.standardCall(\"/home/devupgrade\",{did:s,pid:u},function(e,r){if(!e)return i(r);var n=r.updating,o=r.isLatest,s=r.description,u=r.force,c=r.curr,a=r.latest;t({isUpdating:n,isLatest:o,isForce:u,description:s,curVersion:c,newVersion:a,hasNewFirmware:!n&&!o})})})}},{key:'setFirmwareUpdateErrDic',value:function(e){return!!o.default.isIOS&&(o.default.MIOTHost.setFirmwareUpdateErrDic(e),!0)}},{key:'setFirmwareNotCheckUpdate',value:function(e){return o.default.isAndroid?new Promise.reject(\"Android not suppoty yet\"):new Promise(function(t,i){o.default.MIOTHost.firmwareNotCheckUpdate(e,function(e,r){e&&t(r),i(r)})})}},{key:'callSpecMethod',value:function(e,t){if(!e)return Promise.reject(\"method is empty\");var i=[],r=this;return t.map(function(e,t){var n=e;n.did=r.deviceID,i.push(n)}),new Promise(function(t,r){o.default.MIOTDevice.callSpecMethod(e,i,function(e,i){e?t(i):r(i)})})}},{key:'deviceID',get:function(){return n.Properties.of(this).did}}]),e})(),v=new((function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:'getDeviceWifi',value:function(){var e=n.Properties.of(this);return e._device_wifi||(e._device_wifi=n.Properties.init(new d,e)),e._device_wifi}},{key:'getSubDevices',value:function(){var t=this,i=n.Properties.of(this);return i._parentDevice?Promise.reject():i._subDevices?Promise.resolve(i._subDevices):new Promise(function(r,s){o.default.MIOTDevice.loadSubDevices(t.deviceID,function(o){o&&o.ok&&o.result?(i._subDevices=o.result.map(function(i){return n.Properties.init(new e,babelHelpers.extends({},i,{_parentDeviceID:t.deviceID,_parentDevice:t,_msgset:new Set}))}),r(i._subDevices)):s(o)})})}},{key:'getVirtualDevices',value:function(){var t=this,i=n.Properties.of(this);return i._parentDevice?Promise.reject():i._virtualDevices?Promise.resolve(i._virtualDevices):new Promise(function(r,s){o.default.MIOTRPC.nativeCall(\"/home/virtualdevicectr\",{type:\"get\",masterDid:t.deviceID},function(o,u){o&&u&&u.members?(i._virtualDevices=u.members.map(function(i){return n.Properties.init(new e,babelHelpers.extends({},i,{_parentDeviceID:t.deviceID,_parentDevice:t,_msgset:null,_is_virtual:!0}))}),r(i._virtualDevices)):s(u)})})}},{key:'_get_bluetooth',value:function(e){var t=n.Properties.of(this);if(t._bluetooth)return t._bluetooth;if(!t.mac)throw new Error(\"the device is not initialized\");if(t._parentDevice)throw new Error(\"the bluetooth of sub device is not supported now\");return t._bluetooth=u.default.createBluetooth(t.mac,e),t._bluetooth}},{key:'getBluetoothLE',value:function(){return this._get_bluetooth(!1)}},{key:'getBluetoothClassic',value:function(){return this._get_bluetooth(!0)}},{key:'reportLog',value:function(e){o.default.MIOTService.addLog(this.model,e)}},{key:'loadScenes',value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.default.loadScenes(this.deviceID,e,t)}},{key:'loadTimerScenes',value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.default.loadTimerScenes(this.deviceID,e)}},{key:'createScene',value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.default.createScene(this.deviceID,e,t)}},{key:'createTimerScene',value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.default.createTimerScene(this.deviceID,e)}},{key:'getVersion',value:function(e){var t=this;return new Promise(function(i,r){o.default.isIOS?o.default.MIOTDevice.getVersion(e,function(e,t){e?i(t):r(t)}):n.Properties.of(t).version?i(n.Properties.of(t).version):o.default.MIOTBluetooth.getVersion(e,function(e,t){e?i(t):r(t)})})}},{key:'deviceID',get:function(){return n.Properties.of(this).did}},{key:'model',get:function(){return n.Properties.of(this).model}},{key:'isReady',get:function(){var e=n.Properties.of(this).did;return e&&''!=e}},{key:'parentDevice',get:function(){return n.Properties.of(this)._parentDevice}},{key:'isRootDevice',get:function(){return!n.Properties.of(this)._parentDevice}},{key:'isVirtualDevice',get:function(){return n.Properties.of(this)._is_virtual}},{key:'owner',get:function(){var e=n.Properties.of(this);return e._owner||(e._owner=n.Properties.init(new t.default,{id:n.Properties.of(this).ownerId,nickName:n.Properties.of(this).ownerName,isLoaded:!1})),e._owner}},{key:'extra',get:function(){return n.Properties.of(this).extrainfo}},{key:'name',get:function(){return n.Properties.of(this).name}},{key:'session',get:function(){return n.Properties.of(this).session}},{key:'iconURL',get:function(){return n.Properties.of(this).iconURL}},{key:'permitLevel',get:function(){return n.Properties.of(this).permitLevel}},{key:'isSetPinCode',get:function(){return n.Properties.of(this).isSetPinCode}},{key:'parentModel',get:function(){return n.Properties.of(this).parentModel}},{key:'showMode',get:function(){return n.Properties.of(this).showMode}},{key:'mac',get:function(){return n.Properties.of(this).mac}},{key:'version',get:function(){return n.Properties.of(this).version}},{key:'propInfo',get:function(){return n.Properties.of(this).propInfo}},{key:'IP',get:function(){return n.Properties.of(this).ip}},{key:'RSSI',get:function(){return n.Properties.of(this).rssi}},{key:'SSID',get:function(){return n.Properties.of(this).ssid}},{key:'BSSID',get:function(){return n.Properties.of(this).bssid}},{key:'type',get:function(){return n.Properties.of(this).pid}},{key:'lastModified',get:function(){return n.Properties.of(this).lastModified}},{key:'location',get:function(){return n.Properties.of(this).location}},{key:'latitude',get:function(){return n.Properties.of(this).latitude}},{key:'longitude',get:function(){return n.Properties.of(this).longitude}},{key:'isVoiceDevice',get:function(){return n.Properties.of(this).isVoiceDevice}},{key:'isOnline',get:function(){return n.Properties.of(this).isOnline}},{key:'resetFlag',get:function(){return n.Properties.of(this).resetFlag}},{key:'isOwner',get:function(){return 0!=(16&n.Properties.of(this).permitLevel)}},{key:'isFamily',get:function(){return 0!=(8&n.Properties.of(this).permitLevel)}},{key:'isShared',get:function(){return 0!=(4&n.Properties.of(this).permitLevel)&&null!==n.Properties.of(this).ownerName}},{key:'isBinded2',get:function(){return 0!=(30&n.Properties.of(this).permitLevel)}},{key:'isReadonlyShared',get:function(){return 0!=(32&n.Properties.of(this).permitLevel)&&null!==n.Properties.of(this).ownerName}}]),e})());n.Properties.init(v,babelHelpers.extends({},o.default.MIOTDevice.currentDevice,{_msgset:new Set})),exports.default=v;","miot-sdk/Device.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.IScene=exports.SceneType=void 0;var e=require(\"../native\"),t=babelHelpers.interopRequireDefault(e),i=exports.SceneType={Timer:8,Artificial:30,Automatic:15};Object.freeze(i);var n=exports.IScene=(function(){function n(){babelHelpers.classCallCheck(this,n)}return babelHelpers.createClass(n,[{key:\"save\",value:function(){var i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n&&(n.name&&(this.name=n.name),n.identify&&(this.identify=n.identify),n.setting&&(this.setting=n.setting),n.authed&&n.authed.length>0&&(this.authorizedDeviceIDs=n.authed)),new Promise(function(n,r){var s={us_id:i.sceneID,st_id:i.type,name:i.name||'',identify:i.identify,setting:i.setting,authed:i.authorizedDeviceIDs};t.default.MIOTRPC.standardCall(\"/scene/edit\",s,function(t,s){if(t){var a=e.Properties.of(i);return a.data.us_id=a.data.us_id||s.us_id,a.data.status=s.status,n(i,s)}return r(s)})})}},{key:\"reload\",value:function(){var i=this;if(this.isNew)return Promise.reject(!1);var n=e.Properties.of(this);return new Promise(function(e,r){t.default.MIOTRPC.standardCall(\"/scene/get\",{us_id:i.sceneID},function(t,s){if(t&&s.result)return n.data=s.result,e(i,s);r(s)})})}},{key:\"start\",value:function(){var e=this;return this.isNew?Promise.reject(!1):new Promise(function(i,n){t.default.MIOTRPC.standardCall(\"/scene/start\",{us_id:e.sceneID},function(t,r){t&&i(e,r),!t&&n(r)})})}},{key:\"remove\",value:function(){var i=this;return this.isNew?Promise.resolve(this):new Promise(function(n,r){t.default.MIOTRPC.standardCall(\"/scene/delete\",{us_id:i.sceneID},function(t,s){if(t)return e.Properties.of(i).data.us_id=0,n(i,s);r(s)})})}},{key:\"sceneID\",get:function(){return e.Properties.of(this).data.us_id}},{key:\"isNew\",get:function(){return!this.sceneID}},{key:\"createTime\",get:function(){return e.Properties.of(this).data.create_time}},{key:\"status\",get:function(){return e.Properties.of(this).data.status||0}},{key:\"deviceID\",get:function(){return e.Properties.of(this).deviceID}},{key:\"name\",get:function(){return(e.Properties.of(this).data||{}).name},set:function(t){e.Properties.of(this).data.name=t}},{key:\"type\",get:function(){return e.Properties.of(this).data.st_id}},{key:\"isTimer\",get:function(){return this.type+\"\"==i.Timer+\"\"}},{key:\"isArtificial\",get:function(){return this.type+\"\"==i.Artificial+\"\"}},{key:\"isAutomatic\",get:function(){return this.type+\"\"==i.Automatic+\"\"}},{key:\"identify\",get:function(){return e.Properties.of(this).data.identify},set:function(t){e.Properties.of(this).data.identify=t}},{key:\"setting\",get:function(){return e.Properties.of(this).data.setting||{}},set:function(t){e.Properties.of(this).data.setting=t||{}}},{key:\"authorizedDeviceIDs\",get:function(){return e.Properties.of(this).data.authed||[this.deviceID]},set:function(t){e.Properties.of(this).data.authed=t.map(function(e){return e+\"\"})}}]),n})();function r(t,i){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||{},s=r.identify,a=r.name,u=r.setting;return e.Properties.init(new n,{data:{st_id:i,identify:s,name:a,authed:[t+\"\"],setting:u||{},deviceID:t}})}function s(i,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={did:i,st_id:r,type:0},u=s||{},o=u.identify,c=u.name;return o&&(a.identify=o),c&&(a.name=c),new Promise(function(s,u){t.default.MIOTRPC.standardCall(\"/scene/list\",a,function(t,a){if(!t||!a)return u(a);s(Object.keys(a).map(function(t){return e.Properties.init(new n,{data:babelHelpers.extends({name:c,identify:o},a[t],{st_id:r}),deviceID:i})}))})})}exports.default={createScene:r,createTimerScene:function(e,t){return r(e,i.Timer,t)},createArtificialScene:function(e,t){return r(e,i.Artificial,t)},createAutomaticScene:function(e,t){return r(e,i.Automatic,t)},loadScenes:s,loadTimerScenes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s(e,i.Timer,t)},loadArtificialScenes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s(e,i.Artificial,t)},loadAutomaticScenes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s(e,i.Automatic,t)}};","miot-sdk/service/scene.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.HOST_TYPE_ANDROID=exports.HOST_TYPE_IOS=void 0;var e=require('./host/ui'),t=babelHelpers.interopRequireDefault(e),r=require('./host/locale'),u=babelHelpers.interopRequireDefault(r),l=require('./host/file'),i=babelHelpers.interopRequireDefault(l),o=require('./host/storage'),s=babelHelpers.interopRequireDefault(o),a=require('./host/audio'),n=babelHelpers.interopRequireDefault(a),p=require('./host/crypto'),f=babelHelpers.interopRequireDefault(p),d=require('./native'),b=babelHelpers.interopRequireDefault(d);exports.HOST_TYPE_IOS=d.IOS,exports.HOST_TYPE_ANDROID=d.ANDROID;exports.default={get type(){return b.default.type},get systemInfo(){return b.default.MIOTHost.systemInfo},get isAndroid(){return b.default.isAndroid},get isIOS(){return b.default.isIOS},get version(){return b.default.MIOTHost.hostVersion},get apiLevel(){return b.default.MIOTHost.hostApiLevel},get isDebug(){return b.default.MIOTHost.buildType===d.DEBUG},get ui(){return t.default},get locale(){return u.default},get storage(){return s.default},get file(){return i.default},get audio(){return n.default},get crypto(){return f.default}};","miot-sdk/Host.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('../native'),t=babelHelpers.interopRequireDefault(e),o=require('resolveAssetSource');function n(e){var n=o(e);if(console.log('\\u89e3\\u6790\\u540e\\u7684URL',n),n&&(n.uri||Array.isArray(n))&&'string'==typeof n.uri){if(t.default.isAndroid)return[{uri:n.uri}];var i=n.uri;return'object'==typeof e?i:i.includes('Resources')?t.default.MIOTHost.basePath+i.split(/(Resources\\/|\\?)/)[2]:(console.warn('\\u8d44\\u6e90\\u5e94\\u8be5\\u653e\\u5728\\u9879\\u76ee\\u7684Resoucre\\u6587\\u4ef6\\u4e0b'),i)}}exports.default={openDeleteDevice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.default.isAndroid?t.default.MIOTHost.openDeleteDevice(e):e?t.default.MIOTHost.openDeleteDeviceWithCustomMessage(e):t.default.MIOTHost.openDeleteDevice()},openShareDevicePage:function(){t.default.MIOTHost.openShareDevicePage()},keepScreenNotLock:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.default.MIOTHost.keepScreenNotLock(e)},openRoomManagementPage:function(){t.default.MIOTHost.openRoomManagementPage()},openVoiceCtrlDeviceAuthPage:function(){t.default.MIOTHost.openVoiceCtrlDeviceAuthPage()},openIftttAutoPage:function(){t.default.MIOTHost.openIftttAutoPage()},openFeedbackInput:function(){t.default.MIOTHost.openFeedbackInput()},openSecuritySetting:function(){t.default.MIOTHost.openSecuritySetting()},openHelpPage:function(){t.default.isIOS&&t.default.MIOTHost.openFeedback(),t.default.isAndroid&&t.default.MIOTHost.openHelpPage()},openShareListBar:function(e,o,i,a){i=n(i),t.default.MIOTHost.openShareListBar(e,o,i,a)},getDevicesWithModel:function(e){return new Promise(function(o,n){t.default.MIOTHost.getDevicesWithModel(e,function(e,t){e?o(t):n(!1)})})},openBtGatewayPage:function(){t.default.MIOTHost.openBtGatewayPage()},privacyAndProtocolReview:function(e,o,i,a){o=n(o),a=n(a),t.default.MIOTHost.privacyAndProtocolReview(e,o,i,a)},openPrivacyLicense:function(e,o,i,a){return o=n(o),a=n(a),new Promise(function(n,u){t.default.MIOTHost.openPrivacyLicense(e,o,i,a,function(e){n('ok'===e||!0===e||'true'===e)})})},openChangeDeviceName:function(){t.default.MIOTHost.openChangeDeviceName()},openAddToDesktopPage:function(){t.default.MIOTHost.openAddToDesktopPage()},openDeviceUpgradePage:function(){t.default.MIOTHost.openDeviceUpgradePage()},openWebPage:function(e){t.default.MIOTHost.openWebPage(e)},openShopPage:function(e){if(t.default.isIOS)return t.default.MIOTHost.openShopPage(\"https://home.mi.com/shop/detail?gid=\"+e);openWebPage(\"https://home.mi.com/shop/detail?gid=\"+e)},openAddDeviceGroupPage:function(){t.default.MIOTHost.openAddDeviceGroupPage()},openEditDeviceGroupPage:function(e){t.default.MIOTHost.openAddDeviceGroupPage()},openTimerSettingPage:function(e,o,n,i){t.default.MIOTHost.openTimerSettingPage(e,o,n,i)},openTimerSettingPageWithVariousTypeParams:function(e,o,n,i){t.default.MIOTHost.openTimerSettingPageWithVariousTypeParams(e,o,n,i)},openDevice:function(e,o,n){return new Promise(function(n,i){t.default.MIOTHost.openDevice(e,o,function(e,t){e?i(e):n(t)})})},openPageWithClassName:function(e){t.default.MIOTHost.openPageWithClassName(e)},openNewMorePage:function(){t.default.isIOS&&t.default.MIOTHost.openNewMorePage()}};","miot-sdk/host/ui.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('../native'),t=babelHelpers.interopRequireDefault(e);exports.default={get language(){return t.default.language},get timeZone(){return t.default.MIOTHost.timeZone},getLocation:function(){return new Promise(function(e,o){t.default.isAndroid?t.default.MIOTHost.getLocation(function(t,r){t?e(r):o(r)}):t.default.MHMapLocation.reLocationWithReGeocode(!0,function(t,r,n){n&&n.code?(console.log('\\u8bf7\\u6c42\\u5730\\u7406\\u4f4d\\u7f6e\\u4fe1\\u606f\\u51fa\\u9519\\uff0c\\u9519\\u8bef\\u4fe1\\u606f\\uff1a'+n),o('\\u8bf7\\u6c42\\u5730\\u7406\\u4f4d\\u7f6e\\u4fe1\\u606f\\u51fa\\u9519\\uff0c\\u9519\\u8bef\\u4fe1\\u606f\\uff1a'+JSON.stringify(n))):(r.formattedAddress&&(r.address=r.formattedAddress,delete r.formattedAddress),e(babelHelpers.extends({},t,r)))})})}};","miot-sdk/host/locale.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"../native\"),n=babelHelpers.interopRequireDefault(e);exports.default={readFileList:function(){return new Promise(function(e,i){n.default.MIOTFile.readFileList(function(n,t){n?e(t):i(!1,t)})})},isFileExists:function(e){return new Promise(function(i,t){n.default.MIOTFile.isFileExists(e,function(e,n){e?i(n):t(n)})})},readFile:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(i,t){n.default.MIOTFile.readFile(e,function(e,n){e?i(n):t(!1)})})},readFileToHexString:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(i,t){n.default.MIOTFile.readFileToHexString(e,function(e,n){e?i(n):t(!1)})})},readFileToBase64:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(i,t){n.default.MIOTFile.readFileToBase64(e,function(e,n){e?i(n):t(!1)})})},writeFile:function(e,i){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(t,u){n.default.MIOTFile.writeFile(e,i,function(e){e?t(!0):u(!1)})})},writeFileThroughBase64:function(e,i){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(t,u){n.default.MIOTFile.writeFileThroughBase64(e,i,function(e){e?t(!0):u(!1)})})},appendFile:function(e,i){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(t,u){n.default.MIOTFile.appendFile(e,i,function(e){e?t(!0):u(!1)})})},appendFileThroughBase64:function(e,i){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(t,u){n.default.MIOTFile.appendFileThroughBase64(e,i,function(e){e?t(!0):u(!1)})})},deleteFile:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(i,t){n.default.MIOTFile.deleteFile(e,function(e){e?i(!0):t(!1)})})},uploadFile:function(e){return new Promise(function(i,t){n.default.MIOTFile.uploadFile(e,function(e,n){e?i(n):t(n)})})},uploadFileToFDS:function(e){return new Promise(function(i,t){n.default.MIOTFile.uploadFileToFDS(e,function(e,n){e?i(n):t(n)})})},downloadFile:function(e,i){return new Promise(function(t,u){n.default.MIOTFile.downloadFile(e,i,function(e,n){e?t(n):u(n)})})},dataLengthOfBase64Data:function(e){return new Promise(function(i,t){n.default.MIOTFile.dataLengthOfBase64Data(e,function(e){i(e)})})},subBase64DataOfBase64Data:function(e,i,t){return new Promise(function(u,o){n.default.MIOTFile.subBase64DataOfBase64Data(e,i,t,function(e,n){e?u(n):o(!1)})})},unzipFile:function(e){return new Promise(function(i,t){n.default.MIOTFile.unzipFile(e,function(e){e&&i(!0),!e&&t(!1)})})},ungzFile:function(e){return new Promise(function(i,t){n.default.MIOTFile.ungzFile(e,function(e,n){e?i(n):t(!1)})})},screenShot:function(e){return new Promise(function(i,t){n.default.MIOTFile.screenShot(e,function(e,n){e?i(n):t(n)})})},screenShotInRect:function(e,i){return new Promise(function(t,u){n.default.MIOTFile.screenShotInRect(e,i,function(e,n){e?t(n):u(n)})})},longScreenShot:function(e,i){return new Promise(function(t,u){n.default.MIOTFile.longScreenShot(e,i,function(e,n){e?t(n):u(n)})})},amapScreenShot:function(e,i){return new Promise(function(t,u){n.default.MIOTFile.amapScreenShot(e,i,function(e,n){e?t(n):u(!1)})})},getRGBAValueFromImageAtPath:function(e,i){return new Promise(function(t,u){n.default.MIOTFile.getRGBAValueFromImageAtPath(e,i,function(e,n){e?t(n):u(!1)})})}};","miot-sdk/host/file.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"../native\"),t=babelHelpers.interopRequireDefault(e);exports.default={get:function(e){return new Promise(function(r,i){t.default.MIOTHost.loadInfoCallback(e,function(e){if(e){var t=JSON.parse(e);t.expire>0?t.expire+t.time>(new Date).getTime()?r(t.value):i(\"expired\"):r(t.value)}else r(e)})})},set:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{expire:0},a={value:r,expire:i?i.expire:0,time:(new Date).getTime()};t.default.MIOTHost.saveInfo(e,JSON.stringify(a))},load:function(t){var r=this;if(\"array\"!==e.Utils.typeName(t))return Promise.reject(\"\\u4f20\\u5165\\u53c2\\u6570\\u4e0d\\u662f\\u6570\\u7ec4\");var i=t.map(function(e){return r.get(e)});return Promise.all(i)},save:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expire:0};for(var r in e)this.set(r,e[r],t)}};","miot-sdk/host/storage.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"../native\"),t=babelHelpers.interopRequireDefault(e);exports.default={isAbleToRecord:function(){return t.default.MIOTAudio.isAbleToRecord()},startRecord:function(e,n){return new Promise(function(o,u){t.default.MIOTAudio.startRecord(e,n,function(e,t){e?o(e):u(t)})})},stopRecord:function(){return new Promise(function(e,n){t.default.MIOTAudio.stopRecord(function(t,o){t?e(t):n(o)})})},startPlay:function(e,n){return new Promise(function(o,u){t.default.MIOTAudio.startPlay(e,n,function(e,t){e?o(e):u(t)})})},stopPlay:function(){return new Promise(function(e,n){t.default.MIOTAudio.stopPlay(function(t,o){t?e(t):n(o)})})},wavToAmr:function(e,n){return new Promise(function(o,u){t.default.isIOS&&t.default.MIOTAudio.wavToAmr(e,n,function(e,t){e?o(e):u(t)})})},amrToWav:function(e,n){return new Promise(function(o,u){t.default.isIOS&&t.default.MIOTAudio.amrToWav(e,n,function(e,t){e?o(e):u(t)})})}};","miot-sdk/host/audio.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"../native\"),n=babelHelpers.interopRequireDefault(e);exports.default={encodeMD5:function(e){return new Promise(function(o,t){n.default.MIOTHost.encodeMD5(e,function(e,n){e?o(n):t(n)})})},encodeBase64:function(e){return new Promise(function(o,t){n.default.MIOTHost.encodeBase64(e,function(e,n){e?o(n):t(n)})})},decodeBase64:function(e){return new Promise(function(o,t){n.default.MIOTHost.decodeBase64(e,function(e,n){e?o(n):t(n)})})},encodeSHA1:function(e){return new Promise(function(o,t){n.default.MIOTHost.encodeSHA1(e,function(e,n){e?o(n):t(n)})})},encodeSHA2:function(e){return new Promise(function(o,t){n.default.MIOTHost.encodeSHA2(e,function(e,n){e?o(n):t(n)})})}};","miot-sdk/host/crypto.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.PackageEvent=exports.Entrance=exports.RELEASE=exports.DEBUG=void 0;var e=require('react-native'),a=require('react'),t=babelHelpers.interopRequireDefault(a),n=require('./native'),r=babelHelpers.interopRequireDefault(n),i=exports.DEBUG=\"debug\",l=(exports.RELEASE=\"release\",exports.Entrance={Main:\"main\",Scene:\"scene\"});Object.freeze(l);var o=exports.PackageEvent={packageWillLoad:{local:!0},packageDidLoaded:{local:!0},packageWillPause:{always:!0},packageDidResume:{always:!0},packageAuthorizationCancel:{always:!0,sameas:r.default.isIOS?'kMHPluginReceivingDeviceCancelAuthorization':void 0},packageReceivedInformation:{always:!0,sameas:r.default.isIOS?'kMHPluginReceivingForegroundPushEvent':void 0},packageWillExit:{always:!0},packageViewWillAppear:{always:!0,sameas:r.default.isIOS?'viewWillAppear':void 0}};(0,n.buildEvents)(o);var u={entry:r.default.MIOTPackage.entryInfo||{}};if(\"string\"==typeof u.entry)try{u.entry=JSON.parse(u.entry)}catch(e){u.entry={}}var c=(function(e){function a(){return babelHelpers.classCallCheck(this,a),babelHelpers.possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:'componentWillMount',value:function(){u.willLoad||(u.willLoad=!0,u.afterPackageEntry&&(u.afterPackageEntry(),u.afterPackageEntry=null),o.packageWillLoad.emit())}},{key:'componentDidMount',value:function(){u.didLoaded||(u.didLoaded=!0,o.packageDidLoaded.emit())}},{key:'componentWillUnmount',value:function(){n.PackageExitAction.execute(),o.packageWillExit.emit()}},{key:'render',value:function(){var e=u.App;return t.default.createElement(e,null)}}]),a})(t.default.Component);exports.default={get entrance(){return u.entry.entrance||l.Main},get entryInfo(){return u.entry.info||{}},get exitInfo(){return u.exitInfo},set exitInfo(e){u.exitInfo=e,r.default.MIOTPackage.setExitInfo(this.entrance,JSON.stringify(e||{}))},get packageID(){return r.default.MIOTPackage.packageID},get version(){return r.default.MIOTPackage.version},get packageName(){return r.default.MIOTPackage.packageName},get minApiLevel(){return r.default.MIOTPackage.apiLevel},get buildType(){return r.default.MIOTPackage.buildType},get isDebug(){return this.buildType===i},get models(){return r.default.MIOTPackage.models},entry:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(u.App||!a)throw\"warning, the package is already started\";u.App=a,u.afterPackageEntry=t,e.AppRegistry.registerComponent(this.packageName,function(){return c})},exit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.exitInfo=e),r.default.MIOTHost.closeCurrentPage()}};","miot-sdk/Package.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=(function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:\"getProperty\",value:function(e){return this._properties.get(e)}},{key:\"setProperty\",value:function(e,t){return this._properties.set(e,t),this._status.set(e,!0),this}},{key:\"getPropertyNames\",value:function(){return this._properties.keys()}},{key:\"hasProperty\",value:function(e){return this._properties.has(e)}},{key:\"removeProperty\",value:function(e){return e?\"*\"==e?this.removeAllProperties():(this._properties.delete(e),this._status.delete(e),this):this}},{key:\"removeProperties\",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.length<1?this:\"*\"==r[0]?this.removeAllProperties():(r.forEach(function(t){return e.removeProperty(t)}),this)}},{key:\"removeAllProperties\",value:function(){return this._properties=new Map,this._status=new Map,this}},{key:\"isPropertyChanged\",value:function(e){return this._status.get(e)}},{key:\"getProperties\",value:function(){for(var e=this,t=new Map,r=arguments.length,n=Array(r),s=0;s<r;s++)n[s]=arguments[s];return n.forEach(function(r){return t.set(r,e.getProperty(r)||null)}),t}},{key:\"setProperties\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return this;switch(typeof r){case'function':break;case'string':var n=r;r=function(e){return e.startsWith(n)?e.substring(n.length):e};break;default:r=function(e){return e}}return'Map'==e.constructor.name?e.forEach(function(e,n){t.setProperty(r(n),e)}):Object.keys(e).forEach(function(n){t.setProperty(r(n),e[n])}),this}},{key:\"addListener\",value:function(e,t){if(!t){if('function'!=typeof e)return{remove:function(){}};t=e,e=\"*\"}var r=Array.isArray(e)?e:e?[e]:null;if(!r||r.length<1||!r[0])return{remove:function(){}};var n={props:r,isAny:\"*\"==r[0],callback:t};this._listeners.add(n);var s=this;return{remove:function(){s._listeners.delete(n)}}}},{key:\"notifyPropertiesChanged\",value:function(){var e=this;if(this._listeners.size<1)return this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=(r.length<1||\"*\"==r[0]?this._properties.keys():r).filter(function(t){return e.isPropertyChanged(t)});return s.forEach(function(t){return e._status.delete(t)}),this.triggerListeners.apply(this,babelHelpers.toConsumableArray(s))}},{key:\"triggerListeners\",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(this._listeners.size<1||r.length<1)return this;var s=\"*\"==r[0];return setImmediate(function(){e._listeners.forEach(function(e){var t=e.props,n=e.isAny,i=e.callback;(s||n||t.find(function(e){return r.indexOf(e)>=0}))&&i()})},0),this}},{key:\"removeListeners\",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<1)return this;if(\"*\"==r[0])return this.removeAllListeners();var s=new Set;return this._listeners.forEach(function(e){var t=e.props;e.isAny||(e.props=t.filter(function(e){return r.indexOf(e)<0}),e.props.length<1&&s.add(e))}),s.forEach(function(t){return e._listeners.remove(t)}),this}},{key:\"removeAllListeners\",value:function(){return this._listeners=new Set,this}},{key:\"clear\",value:function(){return this.removeAllListeners().removeAllProperties()}}]),e})(),t=exports.createProperties=function(){var t=new e;return t._properties=new Map,t._status=new Map,t._listeners=new Set,t},r=exports.RootDeviceProperties=t();exports.default=r;","miot-sdk/Properties.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('./native'),r=babelHelpers.interopRequireDefault(e),t=require('./service/smarthome'),n=babelHelpers.interopRequireDefault(t),u=require('./service/scene'),i=babelHelpers.interopRequireDefault(u),o=require('./service/security'),s=babelHelpers.interopRequireDefault(o),a=require('./service/storage'),c=babelHelpers.interopRequireDefault(a),l=require('./Account'),f=babelHelpers.interopRequireDefault(l),d=require('./Host'),p=(babelHelpers.interopRequireDefault(d),e.Properties.init(new f.default,{id:r.default.MIOTService.currentAccountID}));exports.default={get smarthome(){return n.default},get account(){return p},get scene(){return i.default},get security(){return s.default},get storage(){return c.default},getServerName:function(){return new Promise(function(e,t){r.default.isAndroid?r.default.MIOTService.getServerName(function(r){\"us_true\"===r.countryCode&&(r.countryCode='us'),e(r)}):r.default.MIOTHost.getCurrentCountryInfoCallback(function(r,n){r?(\"us_sg\"===n.countryCode&&(n.countryCode='us'),e(n)):t(\"\\u5730\\u533a\\u548c\\u670d\\u52a1\\u5668\\u4fe1\\u606f\\u672a\\u6b63\\u786e\\u83b7\\u53d6\")})})},getTimeZoneOfServer:function(){return new Promise},getUTCFromServer:function(){return new Promise(function(e,t){r.default.MIOTRPC.standardCall(\"/device/get_utc_time\",{},function(r,n){if(r&&n)return e(n);t(n)})})},getServiceTokenWithSid:function(e){return r.default.isAndroid?new Promise.reject('Android not support yet'):new Promise(function(t,n){r.default.MIOTHost.getServiceTokenWithSid(e,function(e,r){if(e)return n(e);t(r)})})},applyForDeviceIDAndToken:function(e,t){return r.default.isAndroid?new Promise.reject('Android not support yet'):new Promise(function(n,u){r.default.MIOTHost.applyForDeviceIDAndToken(e,t,function(e,r,t,i){if(e)return u(e);n({res:r,did:t,token:i})})})}};","miot-sdk/Service.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"../native\"),n=babelHelpers.interopRequireDefault(e);exports.default={getUserInfo:function(e){return new Promise(function(t,i){n.default.MIOTService.loadAccountInfo(e,function(e,n){e&&n?(console.log(\"rep:\",n),t({nickName:n.nickname||n.nickName,avatarURL:n.avatarURL})):i({ok:!1,message:\"\"})})})},reportGPSInfo:function(e,t){return new Promise(function(i,r){n.default.MIOTRPC.standardCall(\"/location/set\",babelHelpers.extends({},t,{did:e}),function(e,n){e&&i(n||!0),!e&&r(n)})})},getWeatherInfo:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/location/weather\",{did:e},function(e,n){if(e&&n.aqi)return t(n.aqi);i(n)})})},getAreaPropInfo:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/location/area_prop_info\",e,function(e,n){if(e)return t(n);i(n)})})},getAvailableFirmwareForDids:function(e){return new Promise(function(t,i){var r=function(e,n){if(!e)return i(n);var r=n.updating,u=n.isLatest,o=n.description,a=n.force,f=n.curr,c=n.latest;t({isUpdating:r,isLatest:u,isForce:a,description:o,curVersion:f,newVersion:c,hasNewFirmware:!r&&!u})};n.default.isIOS?n.default.MIOTHost.getAvailableFirmwareForDids(e,r):n.default.MIOTRPC.standardCall(\"/home/multi_checkversion\",{dids:e},r)})},reportLog:function(e,t){e&&n.default.MIOTService.addLog(e,t+\"\")},reportRecords:function(e,t){return new Promise(function(i,r){n.default.MIOTRPC.nativeCall(\"/device/event\",{did:e,datas:t},function(e,n){if(!e)return r(n);i(n)})})},getDevicesConfig:function(e){return new Promise(function(t,i){n.default.MIOTRPC.nativeCall(\"/v2/device/range_get_extra_data\",e,function(e,n){if(!e)return i(n);t(n)})})},getVoiceVtrlDevices:function(e){return new Promise(function(t,i){n.default.MIOTRPC.nativeCall('/voicectrl/ai_devs',{did:e},function(e,n){if(!e)return i(n);t(n)})})},getAiServiceProxy:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/v2/api/aivs\",e,function(e,n){if(!e)return i(n);t(n)})})},getDeviceSetting:function(e){return new Promise(function(t,i){n.default.MIOTRPC.nativeCall(\"/device/getsetting\",e,function(e,n){if(!e)return i(n);t(n)})})},setDeviceSetting:function(e){return new Promise(function(t,i){n.default.MIOTRPC.nativeCall('/device/setsetting',e,function(e,n){if(!e)return i(n);t(n)})})},delDeviceSetting:function(e){return new Promise(function(t,i){n.default.MIOTRPC.nativeCall(\"/device/delsetting\",e,function(e,n){if(!e)return i(n);t(n)})})},getLatestVersion:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/home/latest_version\",{model:e},function(e,n){if(!e)return i(n);t(n)})})},getDeviceData:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/user/get_user_device_data\",e,function(e,n){if(!e)return i(n);t(n)})})},setDeviceData:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/user/set_user_device_data\",e,function(e,n){if(!e)return i(n);t(n)})})},getUserColl:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/user/get_user_coll\",e,function(e,n){if(!e)return i(n);t(n)})})},setUserColl:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/user/set_user_coll\",e,function(e,n){if(!e)return i(n);t(n)})})},delUserColl:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/user/del_user_coll\",e,function(e,n){if(!e)return i(n);t(n)})})},getMapfileUrl:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/home/getmapfileurl\",e,function(e,n){if(!e)return i(n);t(n)})})},getHomeDevice:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/home/device_list\",babelHelpers.extends({getHuamiDevices:!0},e),function(e,n){if(!e)return i(n);t(n)})})},delUsermap:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/user/del_user_map\",e,function(e,n){if(!e)return i(n);t(n)})})},getRobomapUrl:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/home/getrobomapurl\",e,function(e,n){if(!e)return i(n);t(n)})})},getCountry:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/home/getcountry\",e,function(e,n){if(!e)return i(n);t(n)})})},getBleLockBindInfo:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/device/blelockbindinfo\",e,function(e,n){if(!e)return i(n);t(n)})})},batchGetDeviceProps:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/device/batchdevicedatas\",e,function(e,n){if(!e)return i(n);t(n)})})},getThirdConfig:function(e){return new Promise(function(t,i){n.default.MIOTRPC.standardCall(\"/device/getThirdConfig\",e,function(e,n){if(!e)return i(n);t(n)})})},callThirdPartyAPI:function(e){return n.default.isIOS?new Promise(function(t,i){n.default.MIOTHost.callThirdPartyAPI(e.app_id,e.dids,e.params,function(e,n){if(n)return t(n);i({errorCode:e})})}):new Promise(function(t,i){n.default.MIOTRPC.nativeCall(\"/third/api\",e,function(e,n){if(!e)return i(n);t(n)})})},getMiWatchConfig:function(){return n.default.isAndroid?new Promise.reject(\"not support android yet\"):new Promise(function(e,t){n.default.MIOTHost.getMiWatchConfigWithCallback(function(n,i){if(n)return e(i);t(\"get failed\")})})}};","miot-sdk/service/smarthome.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ISecureKey=void 0;var e=require(\"../native\"),t=babelHelpers.interopRequireDefault(e);function r(e,r,i,n){t.default.MIOTRPC.standardCall(\"/share/bluetoothkeyshare\",babelHelpers.extends({type:e,did:r},i),n)}var i=exports.ISecureKey=(function(){function i(){babelHelpers.classCallCheck(this,i)}return babelHelpers.createClass(i,[{key:\"isOutOfDate\",value:function(){return(new Date).getTime()/1e3>this.expireTime}},{key:\"save\",value:function(){var t=this,i=e.Properties.of(this);return i.data.keyid?new Promise(function(e,n){r(\"update\",t.deviceID,i.data,function(t,r){if(t)return e(!0);n(r)})}):Promise.reject()}},{key:\"remove\",value:function(){var r=this,i=e.Properties.of(this);return i.data.keyid?new Promise(function(e,n){var a,s,o,u;a=\"bledelete\",s=r.deviceID,o={keyid:i.data.keyid},u=function(t,r){if(t)return i.data={},e(!0);n(r)},t.default.MIOTRPC.nativeCall(\"/share/bluetoothkeyshare\",babelHelpers.extends({type:a,did:s},o),u)}):Promise.reject()}},{key:\"deviceID\",get:function(){return e.Properties.of(this).did}},{key:\"keyID\",get:function(){return e.Properties.of(this).data.keyid}},{key:\"shareUserID\",get:function(){return e.Properties.of(this).data.shareuid}},{key:\"activeTime\",get:function(){return parseInt(e.Properties.of(this).data.active_time||0)},set:function(t){e.Properties.of(this).data.active_time=t}},{key:\"expireTime\",get:function(){return parseInt(e.Properties.of(this).data.expire_time||0)},set:function(t){e.Properties.of(this).data.expire_time=t}},{key:\"weekdays\",get:function(){var t=e.Properties.of(this);return t._weekdays||(t._weekdays=(t.data.weekdays||\"\").split(\",\").filter(function(e){return e&&e.length>0}).map(function(e){return parseInt(e)})),t._weekdays},set:function(t){if(t){Array.isArray(t)&&(t=t.join(\",\"));var r=e.Properties.of(this);r.data.weekdays=t,r._weekdays=null}}},{key:\"status\",get:function(){return e.Properties.of(this).data.status},set:function(t){return e.Properties.of(this).data.status=t}}]),i})();exports.default={loadSecureKeys:function(t){return new Promise(function(n,a){r(\"get\",t,{},function(r,s){if(!r||!s||!s.bleshare)return a(s);n(s.bleshare.map(function(r){return e.Properties.init(new i,{data:r,did:t})}))})})},shareSecureKey:function(n,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={status:s.status||0,active_time:s.activeTime,expire_time:s.expireTime,weekdays:Array.isArray(s.weekdays)?s.weekdays.join(\"?\"):s.weekdays};return new Promise(function(e,r){t.default.MIOTRPC.nativeCall(\"/home/profile\",{id:a},function(t,i){return t?e(i):r(i)})}).then(function(t){if(t.result&&t.result.userid){var u=t.result.userid;return new Promise(function(a,d){r(\"bleshare\",n,babelHelpers.extends({userid:t.result.userid},o,{readonly:s.readonly}),function(t,r){if(console.log(\"shareSecureKey with response: \",t,r),t&&r.keyid){var s=babelHelpers.extends({shareuid:u},r,o);return console.log('elements uid:',u,' res:',r,' data:',o,\" all:\",s),a(e.Properties.init(new i,{data:s,did:n}))}if(t&&'ok'==r)return d('key already shared to target user');d(r)})})}return new Promise.reject(\"share user not found \",a)})},getLockBindInfo:function(e){return new Promise(function(r,i){t.default.MIOTRPC.standardCall(\"/device/blelockbindinfo\",{did:e},function(e,t){if(e&&t)return r(t);i(t)})})}};","miot-sdk/service/security.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"../native\"),r=babelHelpers.interopRequireDefault(e);exports.default={getUserConfigs:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),u=1;u<t;u++)n[u-1]=arguments[u];return new Promise(function(t,u){r.default.MIOTRPC.standardCall(\"/user/get_user_config\",{component_id:e,keys:n},function(e,r){if(e)return t(r);u(r)})})},setUserConfigs:function(e,t){var n=Object.keys(t||[]).map(function(r){return{component_id:e,key:r,data:t[r]||{}}});return!e||n.length<1?Promise.reject():new Promise(function(e,t){r.default.MIOTRPC.standardCall(\"/user/set_user_config\",n,function(r,n){if(r&&0!=n)return e(r);t(n)})})}};","miot-sdk/service/storage.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SceneType=exports.BluetoothEvent=exports.Bluetooth=exports.Resources=exports.Host=exports.Service=exports.DeviceProperties=exports.DeviceEvent=exports.Device=exports.PackageEvent=exports.Entrance=exports.Package=exports.API_LEVEL=void 0;var e=require('./Package'),t=babelHelpers.interopRequireDefault(e),r=require('./Device'),o=babelHelpers.interopRequireDefault(r),s=require('./Properties'),p=require('./Service'),i=babelHelpers.interopRequireDefault(p),a=require('./Host'),u=babelHelpers.interopRequireDefault(a),c=require('./resources'),l=babelHelpers.interopRequireDefault(c),n=require('./Bluetooth'),v=babelHelpers.interopRequireDefault(n),x=require('./service/scene'),E=require(\"./package.json\"),D=exports.API_LEVEL=E.api_level,P=exports.Package=t.default,q=exports.Entrance=e.Entrance,f=exports.PackageEvent=e.PackageEvent,b=exports.Device=o.default,d=exports.DeviceEvent=r.DeviceEvent,H=exports.DeviceProperties=s.RootDeviceProperties,R=exports.Service=i.default,g=exports.Host=u.default,k=exports.Resources=l.default,h=exports.Bluetooth=v.default,B=exports.BluetoothEvent=n.BluetoothEvent,S=exports.SceneType=x.SceneType;exports.default={API_LEVEL:D,Package:P,PackageEvent:f,Entrance:q,Device:b,DeviceEvent:d,DeviceProperties:H,Service:R,Host:g,Resources:k,Bluetooth:h,BluetoothEvent:B,SceneType:S};","miot-sdk/index.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Language=void 0;var e=require('../native'),r=babelHelpers.interopRequireDefault(e),t=require('./images/logo.png'),a=babelHelpers.interopRequireDefault(t),u=require('./strings/zh'),l=babelHelpers.interopRequireDefault(u),i=require('./strings/zh_tw'),s=babelHelpers.interopRequireDefault(i),n=require('./strings/zh_hk'),g=babelHelpers.interopRequireDefault(n),o=require('./strings/zh_bo'),p=babelHelpers.interopRequireDefault(o),f=require('./strings/en'),b=babelHelpers.interopRequireDefault(f),q=require('./strings/es'),d=babelHelpers.interopRequireDefault(q),h=require('./strings/ko'),c=babelHelpers.interopRequireDefault(h),H=require('./strings/ru'),D=babelHelpers.interopRequireDefault(H),R=require('./strings/it'),z=babelHelpers.interopRequireDefault(R),m=require('./strings/fr'),y=babelHelpers.interopRequireDefault(m),_=require('./strings/de'),v=babelHelpers.interopRequireDefault(_),k=require('./strings/id'),S=babelHelpers.interopRequireDefault(k),j=require('./strings/pl'),w=babelHelpers.interopRequireDefault(j),x=require('./strings/vi'),A=babelHelpers.interopRequireDefault(x),I=require('./strings/ja'),L=babelHelpers.interopRequireDefault(I),C=require('./strings/th'),O=babelHelpers.interopRequireDefault(C),M=exports.Language={zh:\"zh\",zh_tw:\"zh_tw\",zh_hk:\"zh_hk\",zh_bo:\"zh_bo\",en:\"en\",es:\"es\",ko:\"ko\",ru:\"ru\",it:\"it\",fr:\"fr\",de:\"de\",id:\"id\",pl:\"pl\",vi:\"vi\",ja:\"ja\",th:\"th\",pt:\"pt\",nl:\"nl\",ar:\"ar\"};Object.freeze(M);var P={system:(0,e.createI18n)({zh:l.default,en:b.default,zh_tw:s.default,zh_hk:g.default,zh_bo:p.default,es:d.default,ko:c.default,ru:D.default,it:z.default,fr:y.default,de:v.default,id:S.default,pl:w.default,vi:A.default,ja:L.default,th:O.default},r.default.language),custom:!1,lang:!1};exports.default={logo:a.default,registerStrings:function(t){t&&(P.custom=(0,e.createI18n)(t,r.default.language),P.lang&&(P.language=lang))},getLanguage:function(){return P.system.language},setLanguage:function(e){P.lang=e,P.system.language=e,(P.custom||{}).language=e},get systemStrings(){return P.system.strings},getSystemString:function(e){for(var r,t=arguments.length,a=Array(t>1?t-1:0),u=1;u<t;u++)a[u-1]=arguments[u];return(r=P.system).getString.apply(r,[e].concat(babelHelpers.toConsumableArray(a)))},get strings(){return P.custom.strings},getString:function(e){for(var r,t=arguments.length,a=Array(t>1?t-1:0),u=1;u<t;u++)a[u-1]=arguments[u];return(r=P.custom).getString.apply(r,[e].concat(babelHelpers.toConsumableArray(a)))},createI18n:e.createI18n};","miot-sdk/resources/index.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={mijia:\"\\u7c73\\u5bb6\"};","miot-sdk/resources/strings/zh.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={mijia:\"\\u7c73\\u5bb6\"};","miot-sdk/resources/strings/zh_tw.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={mijia:\"\\u7c73\\u5bb6\"};","miot-sdk/resources/strings/zh_hk.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={mijia:\"\\u7c73\\u5bb6\"};","miot-sdk/resources/strings/zh_bo.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={mijia:\"SmartHome\"};","miot-sdk/resources/strings/en.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={};","miot-sdk/resources/strings/es.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={};","miot-sdk/resources/strings/ko.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={};","miot-sdk/resources/strings/ru.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={};","miot-sdk/resources/strings/it.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={};","miot-sdk/resources/strings/fr.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={};","miot-sdk/resources/strings/de.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={};","miot-sdk/resources/strings/id.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={};","miot-sdk/resources/strings/pl.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={mijia:\"\\u7c73\\u5bb6\"};","miot-sdk/resources/strings/vi.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={};","miot-sdk/resources/strings/ja.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default={};","miot-sdk/resources/strings/th.js"],["'use strict';var e=require('react-native/Libraries/Image/AssetRegistry'),t=require('react-native').NativeModules;require('./resolve')(t.MIOTPackage.basePath,t.MIOTPackage.localFilePath),module.exports={registerAsset:function(t){return t._miot_base_bundle=!0,e.registerAsset(t)},getAssetByID:function(t){return e.getAssetByID(t)}};","miot-sdk/native/common/node/assets.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.XimalayaEvent=exports.XimalayaRequest=void 0;var a=require('./index'),e=babelHelpers.interopRequireDefault(a),t=require('react-native'),l=exports.XimalayaRequest={CategoriesList:0,CategoriesHumanRecommend:1,TagsList:2,AlbumsHot:3,AlbumsBrowse:4,AlbumsBatch:5,AlbumsAll:6,AlbumsUpdateBatch:7,AlbumsRelative:8,AlbumsRecommendDownload:9,AlbumsGuessLike:10,AlbumsByAnnouncer:11,TracksHot:12,TracksDownBatch:13,TracksBatch:14,TrackGetLastPlay:15,SearchAlbums:16,SearchTracks:17,SearchHotWords:18,SearchSuggestWords:19,SearchRadios:20,SearchAll:21,LiveProvince:22,LiveRadio:23,LiveSchedule:24,LiveProgram:25,LiveCity:26,LiveRadioOfCity:27,LiveRadioByID:28,RankList:29,RankAlbum:30,RankTrack:31,RankRadio:32,ColumnList:33,ColumnDetail:34,RankBanner:35,DiscoveryBanner:36,CategoryBanner:37};Object.freeze(l);var i=exports.XimalayaEvent={TrackPlayerDelegate:{addListener:function(a){return t.DeviceEventEmitter.addListener('MHEventXimalayaTrackPlayerDelegate',a)}},LivePlayerDelegate:{addListener:function(a){return t.DeviceEventEmitter.addListener('MHEventXimalayaLivePlayerDelegate',a)}}};Object.freeze(i),exports.default={registry:function(a,t){e.default.MIOTXimalaya.registry(a,t)},request:function(a,t){return new Promise(function(l,i){e.default.MIOTXimalaya.requestXMData(a,t,function(a,e){e?i(e):l(a)})})},setPlayMode:function(a){e.default.MIOTXimalaya.setPlayMode(a)},setVolume:function(a){e.default.MIOTXimalaya.setVolume(a)},playWithTrack:function(a,t){e.default.MIOTXimalaya.playWithTrack(a,t)},pauseTrackPlay:function(){e.default.MIOTXimalaya.pauseTrackPlay()},resumeTrackPlay:function(){e.default.MIOTXimalaya.resumeTrackPlay()},stopTrackPlay:function(){e.default.MIOTXimalaya.stopTrackPlay()},replacePlayList:function(a){e.default.MIOTXimalaya.replacePlayList(a)},playNextTrackWithCallback:function(a){e.default.MIOTXimalaya.playNextTrackWithCallback(a)},playPrevTrackWithCallback:function(a){e.default.MIOTXimalaya.playPrevTrackWithCallback(a)},setAutoNexTrack:function(a){e.default.MIOTXimalaya.setAutoNexTrack(a)},playListWithCallback:function(a){e.default.MIOTXimalaya.playListWithCallback(a)},nextTrackWithCallback:function(a){e.default.MIOTXimalaya.nextTrackWithCallback(a)},prevTrackWithCallback:function(a){e.default.MIOTXimalaya.prevTrackWithCallback(a)},seekToTime:function(a){e.default.MIOTXimalaya.seekToTime(a)},clearCacheSafely:function(){e.default.MIOTXimalaya.clearCacheSafely()},setTrackPlayMode:function(a){e.default.MIOTXimalaya.setTrackPlayMode(a)},currentTrackWithCallback:function(a){e.default.MIOTXimalaya.currentTrackWithCallback(a)},startLivePlayWithRadio:function(a){e.default.MIOTXimalaya.startLivePlayWithRadio(a)},pauseLivePlay:function(){e.default.MIOTXimalaya.pauseLivePlay()},resumeLivePlay:function(){e.default.MIOTXimalaya.resumeLivePlay()},stopLivePlay:function(){e.default.MIOTXimalaya.stopLivePlay()},startHistoryLivePlayWithRadio:function(a,t){e.default.MIOTXimalaya.startHistoryLivePlayWithRadio(a,t)},startHistoryLivePlayWithRadioInProgramList:function(a,t,l){e.default.MIOTXimalaya.startHistoryLivePlayWithRadioInProgramList(a,t,l)},seekHistoryLivePlay:function(a,t){e.default.MIOTXimalaya.seekHistoryLivePlay(a,t)},playNextProgram:function(){e.default.MIOTXimalaya.playNextProgram()},playPreProgram:function(){e.default.MIOTXimalaya.playPreProgram()},forceClearCacheDataForPath:function(a,t){e.default.MIOTXimalaya.forceClearCacheDataForPath(a,t)},currentPlayingRadioWithCallback:function(a){e.default.MIOTXimalaya.currentPlayingRadioWithCallback(a)},currentPlayingProgramWithCallback:function(a){e.default.MIOTXimalaya.currentPlayingProgramWithCallback(a)}};","miot-sdk/native/xmly.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('react-native'),t=require('react'),r=babelHelpers.interopRequireDefault(t),o=require('prop-types'),a=babelHelpers.interopRequireDefault(o),s=require('resolveAssetSource'),i=(0,e.requireNativeComponent)('MHMapView',null),n=(function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:'render',value:function(){return this.props.userLocation&&(this.props.userLocation.image=t.resloveUri(this.props.userLocation.image)),this.props.userLocationRepresentation&&(this.props.userLocationRepresentation.image=t.resloveUri(this.props.userLocationRepresentation.image)),this.props.annotations&&Array.isArray(this.props.annotations)&&this.props.annotations.forEach(function(e){e.image=t.resloveUri(e.image)}),r.default.createElement(i,this.props)}}],[{key:'resloveUri',value:function(e){return(e=s(e))&&(e.uri||Array.isArray(e))&&e.uri&&(e=[{uri:e.uri}]),e}}]),t})(t.Component);n.propTypes=babelHelpers.extends({showsUserLocation:a.default.bool,trafficEnabled:a.default.bool,showsScale:a.default.bool,showsCompass:a.default.bool,zoomEnabled:a.default.bool,pausesLocationUpdatesAutomatically:a.default.bool,allowsBackgroundLocationUpdates:a.default.bool,desiredAccuracy:a.default.bool,distanceFilter:a.default.number,scaleOrigin:a.default.number,mapType:a.default.number,headingFilter:a.default.number,zoomLevel:a.default.number,centerCoordinate:a.default.number,userTrackingMode:a.default.string,compassOrigin:a.default.object,userLocation:a.default.object,userLocationRepresentation:a.default.object,annotations:a.default.array,circles:a.default.array,polylines:a.default.array,multiPolylines:a.default.array,onUpdateUserLocation:a.default.func,onSingleTappedAtCoordinate:a.default.func,onSelectAnnotationView:a.default.func,onMapWillZoomByUser:a.default.func,onMapDidZoomByUser:a.default.func},e.ViewPropTypes),exports.default=n;","miot-sdk/ui/AMapView.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('react'),t=babelHelpers.interopRequireDefault(e),s=require('react-native'),r=(function(e){function r(e){babelHelpers.classCallCheck(this,r);var t=babelHelpers.possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={buttonPressed:!1},t}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:'_buttonPressIn',value:function(){this.setState({buttonPressed:!0})}},{key:'_buttonPressOut',value:function(){this.setState({buttonPressed:!1})}},{key:'_isButtonPressed',value:function(){return this.state.buttonPressed}},{key:'render',value:function(){var e=this.props.source;return this._isButtonPressed()&&this.props.highlightedSource&&(e=this.props.highlightedSource),t.default.createElement(s.TouchableWithoutFeedback,{onPress:this.props.onPress,onPressIn:this._buttonPressIn.bind(this),onPressOut:this._buttonPressOut.bind(this)},t.default.createElement(s.Image,{style:this.props.style,source:e}))}}]),r})(t.default.Component);r.initialState={buttonPressed:!1},r.defaultProps={source:null,highlightedSource:null,onPress:null},exports.default=r;","miot-sdk/ui/ImageButton.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('react'),t=babelHelpers.interopRequireDefault(e),n=require('react-native'),r=require('prop-types'),l=babelHelpers.interopRequireDefault(r),s=(0,n.requireNativeComponent)('RCTInputDialog',null),o=(function(e){function n(){return babelHelpers.classCallCheck(this,n),babelHelpers.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:'render',value:function(){var e=this;return t.default.createElement(s,babelHelpers.extends({},this.props,{onDismiss:function(t){e.props.onDismiss&&e.props.onDismiss(t.nativeEvent)},onCancel:function(t){e.props.onCancel&&e.props.onCancel(t.nativeEvent)},onConfirm:function(t){e.props.onConfirm&&e.props.onConfirm(t.nativeEvent)}}))}}]),n})(e.Component);o.propTypes=babelHelpers.extends({visible:l.default.bool,cancelable:l.default.bool,title:l.default.string,message:l.default.string,placeholder:l.default.string,defaultText:l.default.string,timeout:l.default.number,cancel:l.default.string,confirm:l.default.string,singleLine:l.default.bool,onConfirm:l.default.func,onCancel:l.default.func,onDismiss:l.default.func},n.ViewPropTypes),exports.default=o;","miot-sdk/ui/InputDialog.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('react'),t=babelHelpers.interopRequireDefault(e),r=require('react-native'),s=require('prop-types'),l=babelHelpers.interopRequireDefault(s),i=(0,r.requireNativeComponent)('RCTLoadingDialog',null),n=(function(e){function r(){return babelHelpers.classCallCheck(this,r),babelHelpers.possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:'render',value:function(){var e=this;return t.default.createElement(i,babelHelpers.extends({},this.props,{onDismiss:function(t){e.props.onDismiss&&e.props.onDismiss(t.nativeEvent)}}))}}]),r})(e.Component);n.propTypes=babelHelpers.extends({visible:l.default.bool,cancelable:l.default.bool,title:l.default.string,message:l.default.string,timeout:l.default.number,onDismiss:l.default.func},r.ViewPropTypes),exports.default=n;","miot-sdk/ui/LoadingDialog.js"],["'use strict';var e=require(\"miot\").Host.locale.language;e||console.error(\"Something went wrong initializing the native ReactLocalization module.\\nPlease check your configuration.\\nDid you run 'react-native link'?\");var a=e.replace(/_/g,'-'),t=(function(){function e(t){babelHelpers.classCallCheck(this,e),this.props=t,this.setLanguage(a)}return babelHelpers.createClass(e,[{key:\"_getBestMatchingLanguage\",value:function(e,a){if(a[e])return e;var t=e.lastIndexOf(\"-\");return t>=0?(e=e.substring(0,t),this._getBestMatchingLanguage(e,a)):Object.keys(a)[0]}}]),babelHelpers.createClass(e,[{key:\"setContent\",value:function(e){this.props=e,this.setLanguage(this.language)}},{key:\"setLanguage\",value:function(e){var a=this._getBestMatchingLanguage(e,this.props),t=Object.keys(this.props)[0];if(this.language=a,this.props[a]){var n=babelHelpers.extends({},this.props[t],this.props[this.language]);for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);t!==this.language&&(n=this.props[t],this._fallbackValues(n,this))}}},{key:\"_fallbackValues\",value:function(e,a){for(var t in e)e.hasOwnProperty(t)&&!a[t]?(a[t]=e[t],console.log(\"Missing localization for language '\"+this.language+\"' and key '\"+t+\"'.\")):\"string\"!=typeof a[t]&&this._fallbackValues(e[t],a[t])}},{key:\"getLanguage\",value:function(){return this.language}},{key:\"getInterfaceLanguage\",value:function(){return a}},{key:\"getLocaleObject\",value:function(){return this.props}},{key:\"getAvailableLanguages\",value:function(){if(!this.availableLanguages)for(var e in this.availableLanguages=[],this.props)this.availableLanguages.push(e);return this.availableLanguages}},{key:\"formatString\",value:function(e){for(var a=e,t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var s=0;s<n.length;s++)a=this._replaceAll(\"{\"+s+\"}\",n[s],a);return a}},{key:\"getString\",value:function(e,a){try{return this.props[a][e]}catch(t){console.log(\"No localization found for key \"+e+\" and language \"+a)}return null}},{key:\"_replaceAll\",value:function(e,a,t){return e=e.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g,\"\\\\$1\"),a=(\"\"+a).replace(/([$])/g,'$$$$'),t.replace(new RegExp(e,'g'),a)}}]),e})();module.exports=t;","miot-sdk/ui/LocalizedStrings.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('react'),t=babelHelpers.interopRequireDefault(e),n=require('react-native'),r=require('prop-types'),s=babelHelpers.interopRequireDefault(r),o=(0,n.requireNativeComponent)('RCTMessageDialog',null),l=(function(e){function n(){return babelHelpers.classCallCheck(this,n),babelHelpers.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:'render',value:function(){var e=this;return t.default.createElement(o,babelHelpers.extends({},this.props,{onDismiss:function(t){e.props.onDismiss&&e.props.onDismiss(t.nativeEvent)},onCancel:function(t){e.props.onCancel&&e.props.onCancel(t.nativeEvent)},onConfirm:function(t){e.props.onConfirm&&e.props.onConfirm(t.nativeEvent)}}))}}]),n})(e.Component);l.propTypes=babelHelpers.extends({visible:s.default.bool,cancelable:s.default.bool,title:s.default.string,message:s.default.string,timeout:s.default.number,cancel:s.default.string,confirm:s.default.string,onConfirm:s.default.func,onCancel:s.default.func,onDismiss:s.default.func},n.ViewPropTypes),exports.default=l;","miot-sdk/ui/MessageDialog.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('react'),t=babelHelpers.interopRequireDefault(e),n=require('react-native'),r=require('prop-types'),o=babelHelpers.interopRequireDefault(r),s=(0,n.requireNativeComponent)('RCTMultiChoseDialog',null),l=(function(e){function n(){return babelHelpers.classCallCheck(this,n),babelHelpers.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:'render',value:function(){var e=this;return t.default.createElement(s,babelHelpers.extends({},this.props,{onDismiss:function(t){e.props.onDismiss&&e.props.onDismiss(t.nativeEvent)},onCancel:function(t){e.props.onCancel&&e.props.onCancel(t.nativeEvent)},onCheck:function(t){e.props.onCheck&&e.props.onCheck(t.nativeEvent)},onConfirm:function(t){e.props.onConfirm&&e.props.onConfirm(t.nativeEvent)}}))}}]),n})(e.Component);l.propTypes=babelHelpers.extends({visible:o.default.bool,cancelable:o.default.bool,title:o.default.string,timeout:o.default.number,dataSource:o.default.array,dataKey:o.default.string,checkKey:o.default.string,cancel:o.default.string,confirm:o.default.string,onConfirm:o.default.func,onCancel:o.default.func,onCheck:o.default.func,onDismiss:o.default.func},n.ViewPropTypes),exports.default=l;","miot-sdk/ui/MultiChoseDialog.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('react'),t=babelHelpers.interopRequireDefault(e),r=require('react-native'),s=require('prop-types'),l=babelHelpers.interopRequireDefault(s),i=(0,r.requireNativeComponent)('RCTProgressDialog',null),a=(function(e){function r(){return babelHelpers.classCallCheck(this,r),babelHelpers.possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:'render',value:function(){var e=this;return t.default.createElement(i,babelHelpers.extends({},this.props,{onDismiss:function(t){e.props.onDismiss&&e.props.onDismiss(t.nativeEvent)}}))}}]),r})(e.Component);a.propTypes=babelHelpers.extends({visible:l.default.bool,cancelable:l.default.bool,title:l.default.string,message:l.default.string,timeout:l.default.number,max:l.default.number,progress:l.default.number,onDismiss:l.default.func},r.ViewPropTypes),exports.default=a;","miot-sdk/ui/ProgressDialog.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('react'),n=babelHelpers.interopRequireDefault(e),t=require('react-native'),r=require('prop-types'),o=babelHelpers.interopRequireDefault(r),l=(0,t.requireNativeComponent)('RCTSingleChoseDialog',null),s=(function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:'render',value:function(){var e=this;return n.default.createElement(l,babelHelpers.extends({},this.props,{onDismiss:function(n){e.props.onDismiss&&e.props.onDismiss(n.nativeEvent)},onCancel:function(n){e.props.onCancel&&e.props.onCancel(n.nativeEvent)},onCheck:function(n){e.props.onCheck&&e.props.onCheck(n.nativeEvent)},onConfirm:function(n){e.props.onConfirm&&e.props.onConfirm(n.nativeEvent)}}))}}]),t})(e.Component);s.propTypes=babelHelpers.extends({visible:o.default.bool,cancelable:o.default.bool,title:o.default.string,timeout:o.default.number,dataSource:o.default.array,dataKey:o.default.string,check:o.default.number,cancel:o.default.string,confirm:o.default.string,onConfirm:o.default.func,onCancel:o.default.func,onCheck:o.default.func,onDismiss:o.default.func},t.ViewPropTypes),exports.default=s;","miot-sdk/ui/SingleChoseDialog.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('react'),t=babelHelpers.interopRequireDefault(e),r=require('react-native'),s=require('./ImageButton'),i=babelHelpers.interopRequireDefault(s),l=require('react-navigation'),o=r.Dimensions.get('window').width,n=(function(e){function s(e){return babelHelpers.classCallCheck(this,s),babelHelpers.possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e))}return babelHelpers.inherits(s,e),babelHelpers.createClass(s,[{key:'render',value:function(){var e='dark'===this.props.type;return e?r.StatusBar.setBarStyle('light-content'):r.StatusBar.setBarStyle('default'),t.default.createElement(l.SafeAreaView,{style:[a.titleBarContainer,this.props.style,e?{backgroundColor:'#333'}:{}]},t.default.createElement(r.View,{style:{flex:1,flexDirection:'row',alignItems:'center',paddingLeft:10}},this.props.onPressLeft&&t.default.createElement(i.default,{onPress:this.props.onPressLeft,style:[a.img],source:e?require('../resources/title/back_white_normal.png'):require('../resources/title/back_normal.png'),highlightedSource:e?require('../resources/title/back_white_press.png'):require('../resources/title/back_press.png')}),this.props.leftText?t.default.createElement(r.Text,{style:[a.leftRightText,this.props.onPressLeft?{marginLeft:3}:{},e?{color:'#fff'}:{}],onPress:this.props.onPressLeft2||this.props.onPressLeft||function(e){console.warn('no callback for leftText!')}},this.props.leftText):this.props.onPressLeft2&&t.default.createElement(i.default,{onPress:this.props.onPressLeft2,style:[a.img,{marginLeft:10}],source:e?require('../resources/title/close_white_normal.png'):require('../resources/title/close_normal.png'),highlightedSource:e?require('../resources/title/close_white_press.png'):require('../resources/title/close_press.png')})),t.default.createElement(r.View,{style:{flex:this.props.flex||1.5,justifyContent:'center',alignItems:'center'}},t.default.createElement(r.Text,{numberOfLines:1,ellipsizeMode:'tail',style:[a.titleText,e?{color:'#fff'}:{}],onPress:this.props.onPressTitle},this.props.title),this.props.subTitle&&t.default.createElement(r.Text,{numberOfLines:1,ellipsizeMode:'tail',style:[a.subtitleText,e?{color:'#fff'}:{}],onPress:this.props.onPressTitle},this.props.subTitle)),t.default.createElement(r.View,{style:{flex:1,flexDirection:'row',alignItems:'center',paddingRight:10}},t.default.createElement(r.View,{style:{flex:1}}),this.props.onPressRight&&t.default.createElement(i.default,{onPress:this.props.onPressRight,style:[a.img],source:e?require('../resources/title/share_white_normal.png'):require('../resources/title/share_normal.png'),highlightedSource:e?require('../resources/title/share_white_press.png'):require('../resources/title/share_press.png')}),this.props.rightText?t.default.createElement(r.Text,{style:[a.leftRightText,{marginLeft:3},e?{color:'#fff'}:{}],onPress:this.props.onPressRight2||this.props.onPressRight||function(e){console.warn('no callback for rightText!')}},this.props.rightText):this.props.onPressRight2&&t.default.createElement(r.View,{style:[a.img,{marginLeft:10}]},t.default.createElement(i.default,{onPress:this.props.onPressRight2,style:[a.img],source:e?require('../resources/title/more_white_normal.png'):require('../resources/title/more_normal.png'),highlightedSource:e?require('../resources/title/more_white_press.png'):require('../resources/title/more_press.png')}),this.props.showDot&&t.default.createElement(r.Image,{style:a.dot,source:require('../resources/title/dot.png')}))))}}]),s})(e.Component);exports.default=n;var a=r.StyleSheet.create({titleBarContainer:{width:o,height:48,flexDirection:'row',backgroundColor:'#fff'},titleText:{fontSize:17,textAlignVertical:'center',textAlign:'center'},subtitleText:{marginTop:3,color:'#666',fontSize:10,textAlignVertical:'center',textAlign:'center'},leftRightText:{color:'#666',fontSize:14,textAlignVertical:\"center\",textAlign:\"center\"},img:{width:28,height:28},dot:{position:'absolute',width:8,height:8,resizeMode:'contain',right:0}});","miot-sdk/ui/TitleBar.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require('react'),t=babelHelpers.interopRequireDefault(e),r=require('react-native'),i=require('./ImageButton'),s=babelHelpers.interopRequireDefault(i),l=require('react-navigation'),n=require('react-native-ui-kitten'),o=r.Dimensions.get('window'),a=o.width,h=(o.height,(function(e){function i(e){return babelHelpers.classCallCheck(this,i),babelHelpers.possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e))}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:'render',value:function(){r.StatusBar.setBarStyle('dark-content');var e=this.props.leftTextStyle?this.props.leftTextStyle.width:0,i=this.props.rightTextStyle?this.props.rightTextStyle.width:0;return t.default.createElement(l.SafeAreaView,{style:[p.titleBarContainer,this.props.style]},this.props.leftText?t.default.createElement(n.RkButton,{onPress:this.props.onPressLeft,contentStyle:[p.leftRightText,this.props.leftTextStyle],style:[p.leftRightText,{height:this.props.onPressLeft?44:0,width:e||56}]},this.props.leftText):t.default.createElement(s.default,{onPress:this.props.onPressLeft,style:[p.img,{height:this.props.onPressLeft?28:0}],source:require('../resources/title/std_tittlebar_main_device_back_normal.png'),highlightedSource:require('../resources/title/std_tittlebar_main_device_back_press.png')}),t.default.createElement(s.default,{onPress:this.props.onPressLeft2,style:[p.img,{marginLeft:0,height:this.props.onPressLeft2?28:0}],source:require('../resources/title/std_tittlebar_main_device_back2_normal.png'),highlightedSource:require('../resources/title/std_tittlebar_main_device_back2_press.png')}),t.default.createElement(r.View,{style:[p.textContainer]},t.default.createElement(r.Text,{style:[p.titleText],onPress:this.props.onPressTitle},this.props.title),this.props.subTitle&&t.default.createElement(r.Text,{style:[p.subtitleText],onPress:this.props.onPressTitle},this.props.subTitle)),t.default.createElement(s.default,{onPress:this.props.onPressRight2,style:[p.img,{marginRight:0,height:this.props.onPressRight2?28:0}],source:require('../resources/title/std_tittlebar_main_device_share_normal.png'),highlightedSource:require('../resources/title/std_tittlebar_main_device_share_press.png')}),this.props.rightText?t.default.createElement(n.RkButton,{onPress:this.props.onPressRight,contentStyle:[p.leftRightText,this.props.rightTextStyle],style:[p.leftRightText,{height:this.props.onPressRight?44:0,width:i||56}]},this.props.rightText):t.default.createElement(s.default,{onPress:this.props.onPressRight,style:[p.img,{height:this.props.onPressRight?28:0}],source:require('../resources/title/std_tittlebar_main_device_more_normal.png'),highlightedSource:require('../resources/title/std_tittlebar_main_device_more_press.png')}),this.props.showDot&&t.default.createElement(r.Image,{style:p.dot,source:require('../resources/title/std_tittlebar_main_device_massage_point.png')}))}}]),i})(e.Component));exports.default=h;var p=r.StyleSheet.create({titleBarContainer:{flexDirection:'row',width:a,alignItems:'flex-end',height:r.StatusBar.currentHeight+44},textContainer:{height:44,flex:1,alignItems:'stretch',justifyContent:'center'},titleText:{color:'#000000cc',fontSize:15,textAlignVertical:'center',textAlign:'center'},subtitleText:{color:'#00000088',fontSize:12,textAlignVertical:'center',textAlign:'center'},leftRightText:{flexDirection:'column',backgroundColor:'#0000',color:'#00000088',fontSize:14,alignItems:'center',justifyContent:'center',textAlignVertical:\"center\",textAlign:\"center\"},img:{width:28,height:28,resizeMode:'contain',marginLeft:14,marginTop:8,marginBottom:8,marginRight:14},dot:{position:'absolute',width:10,height:10,resizeMode:'contain',right:14,top:r.StatusBar.currentHeight+8}});","miot-sdk/ui/TitleBarBlack.js"],["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"react\"),t=babelHelpers.interopRequireDefault(e),r=require(\"react-native\"),i=require(\"./ImageButton\"),s=babelHelpers.interopRequireDefault(i),l=require(\"react-navigation\"),n=require(\"react-native-ui-kitten\"),o=r.Dimensions.get(\"window\"),a=o.width,h=(o.height,(function(e){function i(e){return babelHelpers.classCallCheck(this,i),babelHelpers.possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e))}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:\"render\",value:function(){r.StatusBar.setBarStyle(\"light-content\");var e=this.props.leftTextStyle?this.props.leftTextStyle.width:0,i=this.props.rightTextStyle?this.props.rightTextStyle.width:0;return t.default.createElement(l.SafeAreaView,{style:[p.titleBarContainer,this.props.style]},this.props.leftText?t.default.createElement(n.RkButton,{onPress:this.props.onPressLeft,contentStyle:[p.leftRightText,this.props.leftTextStyle],style:[p.leftRightText,{height:this.props.onPressLeft?44:0,width:e||56}]},this.props.leftText):t.default.createElement(s.default,{onPress:this.props.onPressLeft,style:[p.img,{height:this.props.onPressLeft?28:0}],source:require(\"../resources/title/std_tittlebar_main_device_back_white_normal.png\"),highlightedSource:require(\"../resources/title/std_tittlebar_main_device_back_white_press.png\")}),t.default.createElement(s.default,{onPress:this.props.onPressLeft2,style:[p.img,{marginLeft:0,height:this.props.onPressLeft2?28:0}],source:require(\"../resources/title/std_titlebar_setting_back_normal.png\"),highlightedSource:require(\"../resources/title/std_titlebar__setting_back_press.png\")}),t.default.createElement(r.View,{style:[p.textContainer]},t.default.createElement(r.Text,{style:[p.titleText],onPress:this.props.onPressTitle},this.props.title),this.props.subTitle&&t.default.createElement(r.Text,{style:[p.subtitleText],onPress:this.props.onPressTitle},this.props.subTitle)),t.default.createElement(s.default,{onPress:this.props.onPressRight2,style:[p.img,{marginRight:0,height:this.props.onPressRight2?28:0}],source:require(\"../resources/title/std_tittlebar_main_device_share_white_normal.png\"),highlightedSource:require(\"../resources/title/std_tittlebar_main_device_share_white_press.png\")}),this.props.rightText?t.default.createElement(n.RkButton,{onPress:this.props.onPressRight,contentStyle:[p.leftRightText,this.props.rightTextStyle],style:[p.leftRightText,{height:this.props.onPressRight?44:0,width:i||56}]},this.props.rightText):t.default.createElement(s.default,{onPress:this.props.onPressRight,style:[p.img,{height:this.props.onPressRight?28:0}],source:require(\"../resources/title/std_tittlebar_main_device_more_white_normal.png\"),highlightedSource:require(\"../resources/title/std_tittlebar_main_device_more_white_press.png\")}),this.props.showDot&&t.default.createElement(r.Image,{style:p.dot,source:require(\"../resources/title/std_tittlebar_main_device_massage_point.png\")}))}}]),i})(e.Component));exports.default=h;var p=r.StyleSheet.create({titleBarContainer:{flexDirection:\"row\",width:a,alignItems:\"flex-end\",height:r.StatusBar.currentHeight+44},textContainer:{height:44,flex:1,alignItems:\"stretch\",justifyContent:\"center\"},titleText:{color:\"#ffffffcc\",fontSize:15,textAlignVertical:\"center\",textAlign:\"center\"},subtitleText:{color:\"#ffffff88\",fontSize:12,textAlignVertical:\"center\",textAlign:\"center\"},leftRightText:{flexDirection:'column',backgroundColor:'#0000',color:'#ffffff88',fontSize:14,alignItems:'center',justifyContent:'center',textAlignVertical:\"center\",textAlign:\"center\"},img:{width:28,height:28,resizeMode:\"contain\",marginLeft:14,marginTop:8,marginBottom:8,marginRight:14},dot:{position:\"absolute\",width:10,height:10,resizeMode:\"contain\",right:14,top:r.StatusBar.currentHeight+8}});","miot-sdk/ui/TitleBarWhite.js"],["'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.AMapView=exports.LocalizedStrings=exports.TitleBarWhite=exports.TitleBarBlack=exports.TitleBar=exports.InputDialog=exports.SingleChoseDialog=exports.MultiChoseDialog=exports.ProgressDialog=exports.MessageDialog=exports.LoadingDialog=exports.ImageButton=void 0;var e=require('./ImageButton'),r=babelHelpers.interopRequireDefault(e),i=require('./LoadingDialog'),l=babelHelpers.interopRequireDefault(i),t=require('./MessageDialog'),a=babelHelpers.interopRequireDefault(t),o=require('./ProgressDialog'),s=babelHelpers.interopRequireDefault(o),u=require('./MultiChoseDialog'),p=babelHelpers.interopRequireDefault(u),g=require('./SingleChoseDialog'),D=babelHelpers.interopRequireDefault(g),n=require('./InputDialog'),f=babelHelpers.interopRequireDefault(n),x=require('./TitleBar'),b=babelHelpers.interopRequireDefault(x),d=require('./TitleBarWhite'),q=babelHelpers.interopRequireDefault(d),B=require('./TitleBarBlack'),M=babelHelpers.interopRequireDefault(B),h=require('./LocalizedStrings'),H=babelHelpers.interopRequireDefault(h),R=require('./AMapView'),T=babelHelpers.interopRequireDefault(R),c=exports.ImageButton=r.default,C=exports.LoadingDialog=l.default,I=exports.MessageDialog=a.default,L=exports.ProgressDialog=s.default,S=exports.MultiChoseDialog=p.default,P=exports.SingleChoseDialog=D.default,k=exports.InputDialog=f.default,m=exports.TitleBar=b.default,w=exports.TitleBarBlack=M.default,z=exports.TitleBarWhite=q.default,A=exports.LocalizedStrings=H.default,V=exports.AMapView=T.default;exports.default={ImageButton:c,LoadingDialog:C,MessageDialog:I,MultiChoseDialog:S,ProgressDialog:L,SingleChoseDialog:P,InputDialog:k,TitleBar:m,TitleBarBlack:w,TitleBarWhite:z,LocalizedStrings:A,AMapView:V};","miot-sdk/ui/index.js"]]};function f(){if(!c.size&&l&&(m(l),l=null,c.size<1&&(!a._miot_building||!t))){var o=r.readFileSync(e.join(n,"bin","config","modules_sdk"));o&&(m(JSON.parse(o.toString()||"{}")),o=null)}}var _=e.join(n,"node_modules","react-native","Libraries","Image","resolveAssetSource.js"),p=/\s+module[ ]*[.][ ]*exports[ ]*[.]?\s*=?\s*/,d=/^setCustomSourceTransformer\s*=/;function v(e){if(!(e.filename!=_||e._miot_updated||(e.src||"").length<10)){e._miot_updated=!0;var r=e.src.split(p);e.src=r[0]+';\n    var _miot_process=0, _miot_trans=0; const _miot_resolve='+r[1]+'\n    \nmodule.exports=function(obj){\n        _miot_process&&_miot_process(obj);\n        return _miot_resolve(obj);\n    };\n    \n'+r.filter(function(e,r){return r>1}).map(function(e){return d.test(e)?"_miot_trans="+e.replace(d,""):"module.exports."+e}).join("\n")+'\n    \nmodule.exports.setCustomSourceTransformer=function(trans,process){\n        _miot_process = process||0;\n        _miot_trans(trans);\n    }'}}a.transform=function(r){f();var o=e.relative(n,r.filename),i=s.findContent(o);if(i)return console.log("FIXBUG",o),r.src=i.toString(),u(r);var m=o.replace(/\\/g,"/");if(!t||!a._miot_building){var l=c.get(m);if(l)return r.src=l,r.options.dev=!1,r.options.hot=!1,r.options.minify=!0,r.options.enableBabelRCLookup=!1,r.options.inlineRequires=!0,u(r)}return v(r),u(r)},module.exports=a;